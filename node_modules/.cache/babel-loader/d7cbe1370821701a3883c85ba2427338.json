{"remainingRequest":"/home/stoneage/vueJs projects/aliceblueTradevuex/node_modules/babel-loader/lib/index.js!/home/stoneage/vueJs projects/aliceblueTradevuex/src/mixins/orderWindow.js","dependencies":[{"path":"/home/stoneage/vueJs projects/aliceblueTradevuex/src/mixins/orderWindow.js","mtime":1655307156177},{"path":"/home/stoneage/vueJs projects/aliceblueTradevuex/babel.config.js","mtime":1649344700943},{"path":"/home/stoneage/vueJs projects/aliceblueTradevuex/node_modules/cache-loader/dist/cjs.js","mtime":1655272566310},{"path":"/home/stoneage/vueJs projects/aliceblueTradevuex/node_modules/babel-loader/lib/index.js","mtime":1655272566942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3N0b25lYWdlL3Z1ZUpzIHByb2plY3RzL2FsaWNlYmx1ZVRyYWRldnVleC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3N0b25lYWdlL3Z1ZUpzIHByb2plY3RzL2FsaWNlYmx1ZVRyYWRldnVleC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50ZXN0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtZmxvYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UtYWxsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wYXJzZS1pbnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcFN0YXRlLCBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbnNlS2V5OiAiMTIzLjQ1IiwKICAgICAgdGV4dDogImNlbnRlciIsCiAgICAgIHByaWNlSXRlbXM6IFsiTCIsICJNS1QiLCAiU0wiLCAiU0wtTSJdLAogICAgICBwcm9kdWN0SXRlbXM6IFsiTUlTIiwgIk5STUwiXSwKICAgICAgLy8gc2hvd1ZhbGlkaXR5SXRlbXM6IFsnREFZJywgJ0lPQyddLAogICAgICAvLyB2YWxpZGl0eVR5cGU6ICIiLAogICAgICBzaG93TW9yZTogZmFsc2UsCiAgICAgIGNvdmVyT3JCcmFja2V0VmFsaWRpdHlJdGVtczogWyJEQVkiXSwKICAgICAgY292ZXJPckJyYWNrZXRQcm9kdWN0SXRlbXM6IFsiTUlTIl0sCiAgICAgIHRhcmdldFByaWNlOiAwLAogICAgICBzdG9wTG9zc1ByaWNlOiAwLAogICAgICB0cmFpbFN0b3BMb3NzUHJpY2U6IDAsCiAgICAgIC8vIGRpc2Nsb3NlZFF1YW50aXR5OiAwLAogICAgICAvL2lucHV0IGZpZWxkIGhpZGUgc2hvdwogICAgICBjdXJyZW50T3JkZXJUYWI6ICJyZWd1bGFyIiwKICAgICAgZXJyb3JNc2c6ICIiLAogICAgICBpc0Zvcm1TdWJtaXQ6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgZHJhZ2dhYmxlOiBmdW5jdGlvbiBkcmFnZ2FibGUoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoCiAgICAgIC8qIHdlYnBhY2tDaHVua05hbWU6ICJkcmFnZ2FibGUiICovCiAgICAgICIuLi9jb21wb25lbnRzL2RyYWdnYWJsZS52dWUiKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCJtYXJrZXRXYXRjaCIsIFsibWFya2V0RGVwdGhEYXRhIl0pKSwgbWFwU3RhdGUoIm9yZGVyV2luZG93IiwgWyJzaG93T3JkZXJXaW5kb3ciLCAib3JkZXJUeXBlIiwgInRvZ2dsZU9yZGVyIiwgInByaWNlUmFuZ2VEZXRhaWxzIiwgIm5zZVByaWNlUmFuZ2VEYXRhIiwgImJzZVByaWNlUmFuZ2VEYXRhIiwgInNjcmlwdFF1b3RlRGV0YWlscyIsICJjdXJyZW50T3JkZXIiLCAibWlubG90IiwgImx0cCIsICJ0aWNrUHJpY2UiLCAiY3VycmVudE9yZGVyIiwgIm5zZUJzZVR5cGUiLCAiY3VycmVudEluc3RydW1lbnQiLCAiY3VycmVudEV4Y2hhbmdlIiwgImN1cnJlbnRQYWdlIiwgIm1vZGlmeU9yZGVyIiwgImxvYWRpbmciLCAid2luZG93TG9hZGluZyIsICJpc05mbyIsICJvcmRlclR5cGVMaXN0IiwgInZhbGlkaXR5SXRlbXMiLCAiYnJhY2tldFByaWNlSXRlbXMiLCAiY292ZXJQcmljZUl0ZW1zIiwgImxvd2VyUmFuZ2UiLCAidXBwZXJSYW5nZSIsICJyZW1vdmVDc3MiLCAiaXNQcmljZSIsICJpc1RyZ1ByaWNlIiwgImlzRGlzY2xvc2VkUXR5IiwgIm5zZVN3aXRjaFByaWNlIiwgImJzZVN3aXRjaFByaWNlIl0pKSwgbWFwR2V0dGVycygib3JkZXJXaW5kb3ciLCBbImdldFByaWNlVHlwZSIsICJnZXRQcm9kVHlwZSIsICJnZXRPcmRlclRhYiIsICJnZXRWYWxpZGl0eVR5cGUiLCAiZ2V0VHJpZ2dlclByaWNlIiwgImdldEN1cnJlbnRMdHAiLCAiZ2V0QXZhaWxhYmxlTWFyZ2luIl0pKSwgbWFwR2V0dGVycygiYXV0aHRpY2F0aW9uIiwgWyJnZXRVc2VySWQiXSkpLCB7fSwgewogICAgc2hvd3Byb2R1Y3RJdGVtczogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUub3JkZXJXaW5kb3cuc2hvd3Byb2R1Y3RJdGVtczsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3VmFsdWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldFByb2R1Y3RJdGVtcyIsIG5ld1ZhbHVlKTsKICAgICAgfQogICAgfSwKICAgIHNob3dQcmljZUl0ZW1zOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5vcmRlcldpbmRvdy5zaG93UHJpY2VJdGVtczsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3VmFsdWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldFByaWNlSXRlbXMiLCBuZXdWYWx1ZSk7CiAgICAgIH0KICAgIH0sCiAgICBxdWFudGl0eTogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUub3JkZXJXaW5kb3cucXVhbnRpdHk7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJvcmRlcldpbmRvdy9zZXRDdXJyZW50UXR5IiwgdmFsdWUpOwogICAgICAgIHRoaXMuY2hlY2tNYXJnaW5BdmFpbGFibGUoKTsKICAgICAgfQogICAgfSwKICAgIHByaWNlOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLmlzUHJpY2UgPyB0aGlzLiRzdG9yZS5zdGF0ZS5vcmRlcldpbmRvdy5wcmljZSA6IDA7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJvcmRlcldpbmRvdy9zZXRDdXJyZW50UHJpY2UiLCB2YWx1ZSk7CiAgICAgICAgdGhpcy5jaGVja01hcmdpbkF2YWlsYWJsZSgpOwogICAgICB9CiAgICB9LAogICAgdHJpZ2dlclByaWNlOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLmlzVHJnUHJpY2UgPyB0aGlzLiRzdG9yZS5zdGF0ZS5vcmRlcldpbmRvdy50cmlnZ2VyUHJpY2UgOiAwOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgib3JkZXJXaW5kb3cvc2V0Q3VycmVudFRyZ1ByaWNlIiwgdmFsdWUpOwogICAgICAgIHRoaXMuY2hlY2tNYXJnaW5BdmFpbGFibGUoKTsKICAgICAgfQogICAgfSwKICAgIGRpc2Nsb3NlZFF1YW50aXR5OiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLmlzRGlzY2xvc2VkUXR5ID8gdGhpcy4kc3RvcmUuc3RhdGUub3JkZXJXaW5kb3cuZGlzY2xvc2VkUXVhbnRpdHkgOiAwOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgib3JkZXJXaW5kb3cvc2V0RGlzY2xvc2VkUXR5IiwgdmFsdWUpOwogICAgICB9CiAgICB9LAogICAgbnNlQnNlUmFkaW9Td2l0Y2g6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEV4Y2hhbmdlOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgfQogICAgfSwKICAgIGJ1eVNlbGxSYWRpbzogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5vcmRlclR5cGUgPT0gJ2J1eScgPyB0cnVlIDogZmFsc2U7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICB9CiAgICB9LAogICAgcHJpY2VUeXBlOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLmdldFByaWNlVHlwZTsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldFByaWNlVHlwZSIsIHZhbHVlKTsKICAgICAgICB0aGlzLmNoZWNrTWFyZ2luQXZhaWxhYmxlKCk7CiAgICAgIH0KICAgIH0sCiAgICBwcm9kVHlwZTogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9kVHlwZTsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldFByb2RUeXBlIiwgdmFsdWUpOwogICAgICAgIHRoaXMuY2hlY2tNYXJnaW5BdmFpbGFibGUoKTsKICAgICAgfQogICAgfSwKICAgIG9yZGVyVGFiOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLmdldE9yZGVyVGFiOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgib3JkZXJXaW5kb3cvc2V0T3JkZXJUYWIiLCB2YWx1ZSk7CiAgICAgIH0KICAgIH0sCiAgICB2YWxpZGl0eVR5cGU6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsaWRpdHlUeXBlOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgib3JkZXJXaW5kb3cvc2V0VmFsaWRpdHlUeXBlIiwgdmFsdWUpOwogICAgICB9CiAgICB9LAogICAgc2hvd1ZhbGlkaXR5SXRlbXM6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRpdHlJdGVtczsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldFZhbGlkaXR5SXRlbXMiLCB2YWx1ZSk7CiAgICAgIH0KICAgIH0KICB9KSwKICBtZXRob2RzOiB7CiAgICAvLyBjaGFuZ2UgdGFiIGhpZGUgc2hvdyBmdW5jdGlvbgogICAgY2hhbmdlT3JkZXJUYWI6IGZ1bmN0aW9uIGNoYW5nZU9yZGVyVGFiKCkgewogICAgICB0aGlzLmVycm9yTXNnID0gIiI7IC8vIGlmICh0aGlzLm9yZGVyVHlwZUxpc3RbdGhpcy5vcmRlclRhYl0gPT0gJ0NvdmVyJykgewogICAgICAvLyAgIHRoaXMuc2hvd3Byb2R1Y3RJdGVtcyA9IHRoaXMuY292ZXJPckJyYWNrZXRQcm9kdWN0SXRlbXM7CiAgICAgIC8vICAgdGhpcy5zaG93UHJpY2VJdGVtcyA9IHRoaXMuY292ZXJQcmljZUl0ZW1zOwogICAgICAvLyAgIC8vIHRoaXMuc2hvd1ZhbGlkaXR5SXRlbXMgPSB0aGlzLmNvdmVyT3JCcmFja2V0VmFsaWRpdHlJdGVtczsKICAgICAgLy8gICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldFZhbGlkaXR5SXRlbXMiLCB0aGlzLmNvdmVyT3JCcmFja2V0VmFsaWRpdHlJdGVtcyk7CiAgICAgIC8vIH0gZWxzZSBpZiAodGhpcy5vcmRlclR5cGVMaXN0W3RoaXMub3JkZXJUYWJdID09ICdCcmFja2V0JykgewogICAgICAvLyAgIHRoaXMuc2hvd3Byb2R1Y3RJdGVtcyA9IHRoaXMuY292ZXJPckJyYWNrZXRQcm9kdWN0SXRlbXM7CiAgICAgIC8vICAgdGhpcy5zaG93UHJpY2VJdGVtcyA9IHRoaXMuYnJhY2tldFByaWNlSXRlbXM7CiAgICAgIC8vICAgLy8gdGhpcy5zaG93VmFsaWRpdHlJdGVtcyA9IHRoaXMuY292ZXJPckJyYWNrZXRWYWxpZGl0eUl0ZW1zOwogICAgICAvLyAgIHRoaXMuJHN0b3JlLmNvbW1pdCgib3JkZXJXaW5kb3cvc2V0VmFsaWRpdHlJdGVtcyIsIHRoaXMuY292ZXJPckJyYWNrZXRWYWxpZGl0eUl0ZW1zKTsKICAgICAgLy8gfWVsc2UgaWYgKHRoaXMub3JkZXJUeXBlTGlzdFt0aGlzLm9yZGVyVGFiXSA9PSAnQU1PJykgewogICAgICAvLyAgIHRoaXMuc2hvd3Byb2R1Y3RJdGVtcyA9CiAgICAgIC8vICAgICB0aGlzLmN1cnJlbnRFeGNoYW5nZSA9PSAiTlNFIiB8fCB0aGlzLmN1cnJlbnRFeGNoYW5nZSA9PSAiQlNFIgogICAgICAvLyAgICAgICA/IHRoaXMuJHN0b3JlLnN0YXRlLm9yZGVyV2luZG93LmVxUHJvZHVjdEl0ZW1zCiAgICAgIC8vICAgICAgIDogdGhpcy4kc3RvcmUuc3RhdGUub3JkZXJXaW5kb3cuYWxsUHJvZHVjdEl0ZW1zOwogICAgICAvLyAgIC8vIHRoaXMuc2hvd3Byb2R1Y3RJdGVtcyA9IHRoaXMuY292ZXJPckJyYWNrZXRQcm9kdWN0SXRlbXM7CiAgICAgIC8vICAgdGhpcy5zaG93UHJpY2VJdGVtcyA9IFsiTCJdCiAgICAgIC8vICAgdGhpcy4kc3RvcmUuY29tbWl0KCJvcmRlcldpbmRvdy9zZXRWYWxpZGl0eUl0ZW1zIiwgdGhpcy5jb3Zlck9yQnJhY2tldFZhbGlkaXR5SXRlbXMpOwogICAgICAvLyB9IGVsc2UgaWYgKHRoaXMub3JkZXJUeXBlTGlzdFt0aGlzLm9yZGVyVGFiXSkgewogICAgICAvLyAgIHRoaXMuc2hvd1ByaWNlSXRlbXMgPSAgdGhpcy5pc05mbwogICAgICAvLyAgICAgPyB0aGlzLiRzdG9yZS5zdGF0ZS5vcmRlcldpbmRvdy5hbGxQcmljZUl0ZW1zCiAgICAgIC8vICAgICA6IHRoaXMuJHN0b3JlLnN0YXRlLm9yZGVyV2luZG93LnBvc3Rpb25QcmljZUl0ZW1zOwogICAgICAvLyAgIHRoaXMuc2hvd3Byb2R1Y3RJdGVtcyA9CiAgICAgIC8vICAgICB0aGlzLmN1cnJlbnRFeGNoYW5nZSA9PSAiTlNFIiB8fCB0aGlzLmN1cnJlbnRFeGNoYW5nZSA9PSAiQlNFIgogICAgICAvLyAgICAgICA/IHRoaXMuJHN0b3JlLnN0YXRlLm9yZGVyV2luZG93LmVxUHJvZHVjdEl0ZW1zCiAgICAgIC8vICAgICAgIDogdGhpcy4kc3RvcmUuc3RhdGUub3JkZXJXaW5kb3cuYWxsUHJvZHVjdEl0ZW1zOwogICAgICAvLyAgIC8vIHRoaXMuc2hvd1ZhbGlkaXR5SXRlbXMgPSB0aGlzLnZhbGlkaXR5SXRlbXM7CiAgICAgIC8vICAgdGhpcy4kc3RvcmUuY29tbWl0KCJvcmRlcldpbmRvdy9zZXRWYWxpZGl0eUl0ZW1zIiwgWydEQVknLCAnSU9DJ10pOwogICAgICAvLyB9CgogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ29yZGVyV2luZG93L2NoYW5nZU9yZGVyVHlwZScsIHRoaXMuZ2V0T3JkZXJUYWJWYWx1ZSgpKTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2NvbW1vbi9zZXRQcm9kVHlwZUNvbW1vbicsICcnKTsKICAgICAgdGhpcy5jaGVja01hcmdpbkF2YWlsYWJsZSgpOwogICAgfSwKICAgIC8vIGZpbmQgc2VsZWN0IG9yZGVyIHR5cGUgbGlrZSByZWd1bGFyIE9yIGFtbwogICAgc2VsZWN0ZWRJbmRleDogZnVuY3Rpb24gc2VsZWN0ZWRJbmRleChzZWxlY3RlZE9yZGVyKSB7CiAgICAgIHRoaXMuY3VycmVudE9yZGVyVGFiID0gc2VsZWN0ZWRPcmRlci50b0xvd2VyQ2FzZSgpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ29yZGVyV2luZG93L2NoYW5nZU9yZGVyVHlwZScsIHRoaXMuZ2V0T3JkZXJUYWJWYWx1ZSgpKTsKICAgIH0sCiAgICAvL1RvZ2dsZSBvcmRlcldpbmRvdwogICAgdG9nZ2xlT3JkZXJXaW5kb3c6IGZ1bmN0aW9uIHRvZ2dsZU9yZGVyV2luZG93KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgb3JkZXI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgb3JkZXIgPSBfdGhpcy5vcmRlclR5cGUgPT0gImJ1eSIgPyAic2VsbCIgOiAiYnV5IjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldE9yZGVyVHlwZSIsIG9yZGVyKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmNvbW1pdCgib3JkZXJXaW5kb3cvdmFsaURhdGVRdHkiLCAiIik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF90aGlzLmNoZWNrTWFyZ2luQXZhaWxhYmxlKCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL2NhbGwgb3JkZXJXaW5kb3cKICAgIGhpZGVPcmRlcldpbmRvdzogZnVuY3Rpb24gaGlkZU9yZGVyV2luZG93KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAhX3RoaXMyLm1vZGlmeU9yZGVyID8gX3RoaXMyLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldE9yZGVyV2luZG93IiwgZmFsc2UpIDogX3RoaXMyLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldE9yZGVyV2luZG93TW9kaWZ5IiwgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyBvcmRlciBwbGFjZQogICAgcGxhY2VPcmRlcjogZnVuY3Rpb24gcGxhY2VPcmRlcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIganNvbiwgcXR5SW5wdXRCb3gsIHByaWNlSW5wdXRCb3gsIHRyZ1ByaWNlSW5wdXRCb3gsIHRhcmdldFByaWNlSW5wdXRCb3gsIHN0b3BMb3NzUHJpY2VJbnB1dEJveCwgdHJhaWxTdG9wTG9zc1ByaWNlSW5wdXRCb3gsIGRpc2NRdHlJbnB1dEJveDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMzLmlzRm9ybVN1Ym1pdCA9IHRydWU7CiAgICAgICAgICAgICAgICBqc29uID0gewogICAgICAgICAgICAgICAgICBxdHk6IF90aGlzMy5xdWFudGl0eSwKICAgICAgICAgICAgICAgICAgY29tcGxleGl0eTogX3RoaXMzLmdldE9yZGVyVGFiVmFsdWUoX3RoaXMzLm9yZGVydGFiKSwKICAgICAgICAgICAgICAgICAgcGNvZGU6IF90aGlzMy5wcm9kVHlwZS50b0xvd2VyQ2FzZSgpLAogICAgICAgICAgICAgICAgICBwcmljZVR5cGU6IF90aGlzMy5wcmljZVR5cGUsCiAgICAgICAgICAgICAgICAgIHByaWNlOiBfdGhpczMucHJpY2UsCiAgICAgICAgICAgICAgICAgIHRyZ1ByaWNlOiBfdGhpczMudHJpZ2dlclByaWNlLAogICAgICAgICAgICAgICAgICBzdG9wTG9zczogX3RoaXMzLnN0b3BMb3NzUHJpY2UsCiAgICAgICAgICAgICAgICAgIHRyYWlsU3RvcExvc3M6IF90aGlzMy50cmFpbFN0b3BMb3NzUHJpY2UsCiAgICAgICAgICAgICAgICAgIGRpc2NRdHk6IF90aGlzMy5kaXNjbG9zZWRRdWFudGl0eSwKICAgICAgICAgICAgICAgICAgdmFsaWRpdHk6IF90aGlzMy52YWxpZGl0eVR5cGUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBxdHlJbnB1dEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNxdHkiKTsKICAgICAgICAgICAgICAgIHByaWNlSW5wdXRCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjcHJpY2UiKTsKICAgICAgICAgICAgICAgIHRyZ1ByaWNlSW5wdXRCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdHJpZ2dlclByaWNlIik7CiAgICAgICAgICAgICAgICB0YXJnZXRQcmljZUlucHV0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3RyaWdnZXJQcmljZSIpOwogICAgICAgICAgICAgICAgc3RvcExvc3NQcmljZUlucHV0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3N0b3BMb3NzUHJpY2UiKTsKICAgICAgICAgICAgICAgIHRyYWlsU3RvcExvc3NQcmljZUlucHV0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3RyYWlsU3RvcExvc3NQcmljZSIpOwogICAgICAgICAgICAgICAgZGlzY1F0eUlucHV0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2Rpc2NRdHkiKTsKCiAgICAgICAgICAgICAgICBfdGhpczMucXVhbnRpdHlWYWxpZGF0aW9uKCk7CgogICAgICAgICAgICAgICAgX3RoaXMzLnByaWNlVmFsaWRhdGlvbigpOwoKICAgICAgICAgICAgICAgIF90aGlzMy50cmlnZ2VyUHJpY2VWYWxpYXRpb24oKTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLm9yZGVyVHlwZUxpc3RbX3RoaXMzLm9yZGVyVGFiXSA9PT0gJ0JyYWNrZXQnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy50YXJnZXRQcmljZVZhbGlkYXRpb24oKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMy5zdG9wTG9zc1ByaWNlVmFsaWRhdGlvbigpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMzLnRyYWlsUHJpY2VWYWxpZGF0aW9uKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMy5zaG93TW9yZSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZGlzY1F0eVZhbGlkYXRpb24oKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczMub3JkZXJUeXBlTGlzdFtfdGhpczMub3JkZXJUYWJdID09ICdCcmFja2V0JyA/IHRhcmdldFByaWNlSW5wdXRCb3guY2hlY2tWYWxpZGl0eSgpICYmIHN0b3BMb3NzUHJpY2VJbnB1dEJveC5jaGVja1ZhbGlkaXR5KCkgJiYgdHJhaWxTdG9wTG9zc1ByaWNlSW5wdXRCb3guY2hlY2tWYWxpZGl0eSgpIDogdHJ1ZSAmJiBxdHlJbnB1dEJveC5jaGVja1ZhbGlkaXR5KCkgJiYgX3RoaXMzLmlzUHJpY2UgPyBwcmljZUlucHV0Qm94LmNoZWNrVmFsaWRpdHkoKSA6IHRydWUgJiYgX3RoaXMzLmlzVHJnUHJpY2UgPyB0cmdQcmljZUlucHV0Qm94LmNoZWNrVmFsaWRpdHkoKSA6IHRydWUgJiYgX3RoaXMzLnNob3dNb3JlID8gZGlzY1F0eUlucHV0Qm94LmNoZWNrVmFsaWRpdHkoKSA6IHRydWUpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMy5oaWRlT3JkZXJXaW5kb3coKTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMy5tb2RpZnlPcmRlcikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kc3RvcmUuZGlzcGF0Y2goIm9yZGVyV2luZG93L21vZGlmeU9yZGVyIiwganNvbik7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kc3RvcmUuZGlzcGF0Y2goIm9yZGVyV2luZG93L3BsYWNlT3JkZXIiLCBqc29uKTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICAgIF90aGlzMy5pc0Zvcm1TdWJtaXQgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoZWNrUXVhbnRpdHk6IGZ1bmN0aW9uIGNoZWNrUXVhbnRpdHkoZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50LmtleUNvZGUgIT0gMTMpIHsKICAgICAgICB0aGlzLnNob3dFcnJvciA9IHRydWU7CiAgICAgICAgdmFyIGlucCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZXZlbnQua2V5Q29kZSk7CgogICAgICAgIGlmICgvWzAtOV0vLnRlc3QoaW5wKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZGVjaW1hbEFsbG93ZWQ6IGZ1bmN0aW9uIGRlY2ltYWxBbGxvd2VkKGV2ZW50KSB7CiAgICAgIGlmIChldmVudC5rZXlDb2RlICE9IDEzKSB7CiAgICAgICAgdGhpcy5zaG93RXJyb3IgPSB0cnVlOwogICAgICAgIHZhciBpbnAgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGV2ZW50LmtleUNvZGUpOwoKICAgICAgICBpZiAoL1swLTkuXS8udGVzdChpbnApKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyBxdWFudGl0eSB2YWxpZGF0aW9uCiAgICBxdWFudGl0eVZhbGlkYXRpb246IGZ1bmN0aW9uIHF1YW50aXR5VmFsaWRhdGlvbigpIHsKICAgICAgdmFyIHF0eVZhbCA9IHBhcnNlRmxvYXQodGhpcy5xdWFudGl0eSk7CiAgICAgIHZhciBxdHlMb3QgPSB0aGlzLmZsb2F0U2FmZVJlbWFpbmRlcihxdHlWYWwsIHRoaXMubWlubG90KTsKICAgICAgdmFyIHF0eUlucHV0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3F0eSIpOwoKICAgICAgaWYgKHRoaXMucXVhbnRpdHkudG9TdHJpbmcoKSA9PSAiIikgewogICAgICAgIHJldHVybiBxdHlJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgiUXVhbnRpdHkgY2Fubm90IG5vdCBiZSBlbXB0eSIpOwogICAgICB9IGVsc2UgaWYgKHF0eVZhbCA9PSAwKSB7CiAgICAgICAgcmV0dXJuIHF0eUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCJRdWFudGl0eSBjYW5ub3QgYmUgemVybyIpOwogICAgICB9IGVsc2UgaWYgKHF0eUxvdCAhPSAwICYmIHRoaXMubWlubG90ID4gMCkgewogICAgICAgIHJldHVybiBxdHlJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgiUXVhbnRpdHkgc2hvdWxkIGJlIG11bHRpcGxlIG9mIGxvdCBzaXplLiAoIiArIHRoaXMubWlubG90ICsgIikiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBxdHlJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7CiAgICAgIH0KICAgIH0sCiAgICAvLyBwcmljZSB2YWxpZGF0aW9uCiAgICBwcmljZVZhbGlkYXRpb246IGZ1bmN0aW9uIHByaWNlVmFsaWRhdGlvbigpIHsKICAgICAgdmFyIHByaWNlSW5wdXRCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjcHJpY2UiKTsKICAgICAgdmFyIHByaWNlVmFsID0gcGFyc2VGbG9hdCh0aGlzLnByaWNlKTsKICAgICAgdmFyIGxvd2VyUmFuZ2VWYWwgPSBwYXJzZUZsb2F0KHRoaXMubG93ZXJSYW5nZSk7CiAgICAgIHZhciB1cHBlclJhbmdlVmFsID0gcGFyc2VGbG9hdCh0aGlzLnVwcGVyUmFuZ2UpOwogICAgICB2YXIgY2hlY2tEcHJWYWwgPSB0aGlzLmNoZWNrRHByKHByaWNlVmFsLCB1cHBlclJhbmdlVmFsLCBsb3dlclJhbmdlVmFsKTsKICAgICAgdmFyIHByaWNlVGljayA9IHRoaXMuZmxvYXRTYWZlUmVtYWluZGVyKHByaWNlVmFsLCB0aGlzLnRpY2tQcmljZSk7CgogICAgICBpZiAodGhpcy5wcmljZS50b1N0cmluZygpID09ICIiKSB7CiAgICAgICAgcHJpY2VJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgnUHJpY2UgY2Fubm90IGJlIEVtcHR5Jyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHByaWNlVmFsID09IDApIHsKICAgICAgICBwcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCJQcmljZSBjYW5ub3QgYmUgemVybyIpOwogICAgICAgIHRoaXMuaXNGb3JtU3VibWl0ID8gcHJpY2VJbnB1dEJveC5yZXBvcnRWYWxpZGl0eSgpIDogJyc7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHByaWNlVGljayAhPSAwKSB7CiAgICAgICAgcHJpY2VJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgiUHJpY2UgU2hvdWxkIGJlIG11bHRpcGxlIG9mIFRpY2sgc2l6ZSAiLmNvbmNhdCh0aGlzLnRpY2tQcmljZSkpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICghY2hlY2tEcHJWYWwgJiYgdGhpcy5sdHAgIT0gMCAmJiBOdW1iZXIodGhpcy5sdHApID49IGxvd2VyUmFuZ2VWYWwgJiYgTnVtYmVyKHRoaXMubHRwKSA8PSB1cHBlclJhbmdlVmFsICYmIHRoaXMucHJpY2VUeXBlICE9ICJtYXJrZXQiICYmIHRoaXMucHJpY2VUeXBlICE9ICJzbC1tIikgewogICAgICAgIHByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoIlByaWNlIFNob3VsZCBiZSB3aXRoaW4gdGhlIERQUiByYW5nZSIpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICBwcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCcnKTsKICAgICAgfQogICAgfSwKICAgIC8vIHN0b3Bsb3NzIHByaWNlIHZhbGlkYXRpb24KICAgIHRyaWdnZXJQcmljZVZhbGlhdGlvbjogZnVuY3Rpb24gdHJpZ2dlclByaWNlVmFsaWF0aW9uKCkgewogICAgICB2YXIgdHJnUHJpY2VJbnB1dEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN0cmlnZ2VyUHJpY2UiKTsKICAgICAgdmFyIHRyaWdQcmljZVZhbCA9IHBhcnNlRmxvYXQodGhpcy50cmlnZ2VyUHJpY2UpOwogICAgICB2YXIgdHJpZ1RpY2sgPSB0aGlzLmZsb2F0U2FmZVJlbWFpbmRlcih0cmlnUHJpY2VWYWwsIHRoaXMudGlja1ByaWNlKTsKCiAgICAgIGlmICh0aGlzLnRyaWdnZXJQcmljZS50b1N0cmluZygpID09ICIiKSB7CiAgICAgICAgdHJnUHJpY2VJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgnVHJpZ2dlciBQcmljZSBjYW5ub3QgYmUgRW1wdHknKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodHJpZ1ByaWNlVmFsID09IDApIHsKICAgICAgICB0cmdQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCdUcmlnZ2VyIFByaWNlIGNhbm5vdCBiZSB6ZXJvJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHRyaWdUaWNrICE9IDApIHsKICAgICAgICB0cmdQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCJUcmlnZ2VyIFByaWNlIFNob3VsZCBiZSBtdWx0aXBsZSBvZiBUaWNrcyAiLmNvbmNhdCh0aGlzLnRpY2tQcmljZSkpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0cmdQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCcnKTsKICAgICAgfQogICAgfSwKICAgIC8vdGFyZ2V0UHJpY2UgYmFzZWQgb24gRXhjaGFuZ2UKICAgIHRhcmdldFByaWNlVmFsaWRhdGlvbjogZnVuY3Rpb24gdGFyZ2V0UHJpY2VWYWxpZGF0aW9uKCkgewogICAgICB2YXIgdGFyZ2V0UHJpY2VJbnB1dEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN0YXJnZXRQcmljZSIpOwogICAgICB2YXIgdmFsdWUgPSBwYXJzZUZsb2F0KHRoaXMudGFyZ2V0UHJpY2UpOwogICAgICB2YXIgdGFyZ2V0VGljayA9IHRoaXMuZmxvYXRTYWZlUmVtYWluZGVyKHZhbHVlLCB0aGlzLnRpY2tQcmljZSk7CgogICAgICBpZiAodGhpcy50YXJnZXRQcmljZS50b1N0cmluZygpID09ICIiKSB7CiAgICAgICAgdGFyZ2V0UHJpY2VJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgnVGFyZ2V0IFByaWNlIENhbm5vdCBiZSBFbXB0eScpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAwKSB7CiAgICAgICAgdGFyZ2V0UHJpY2VJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgnVGFyZ2V0IFByaWNlIHNob3VsZCBiZSBncmVhdGVyIHRoYW4gMCcpOwogICAgICAgIHRoaXMuaXNGb3JtU3VibWl0ID8gdGFyZ2V0UHJpY2VJbnB1dEJveC5yZXBvcnRWYWxpZGl0eSgpIDogJyc7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHRhcmdldFRpY2sgIT0gMCkgewogICAgICAgIHRhcmdldFByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoIlRhcmdldCBQcmljZSBzaG91bGQgYmUgbXVsdGlwbGUgb2YgXCIgKyAiLmNvbmNhdCh0aGlzLnRpY2tQcmljZSkpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0YXJnZXRQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCcnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0sCiAgICAvL3N0b3BMb3NzUHJpY2UgYmFzZWQgb24gRXhjaGFuZ2UKICAgIHN0b3BMb3NzUHJpY2VWYWxpZGF0aW9uOiBmdW5jdGlvbiBzdG9wTG9zc1ByaWNlVmFsaWRhdGlvbigpIHsKICAgICAgdmFyIHN0b3BMb3NzUHJpY2VJbnB1dEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzdG9wTG9zc1ByaWNlIik7CiAgICAgIHZhciB2YWx1ZSA9IHBhcnNlRmxvYXQodGhpcy5zdG9wTG9zc1ByaWNlKTsKICAgICAgdmFyIHNsVGljayA9IHRoaXMuZmxvYXRTYWZlUmVtYWluZGVyKHZhbHVlLCB0aGlzLnRpY2tQcmljZSk7CgogICAgICBpZiAodGhpcy5zdG9wTG9zc1ByaWNlLnRvU3RyaW5nKCkgPT0gIiIpIHsKICAgICAgICBzdG9wTG9zc1ByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoJ1N0b3Bsb3NzIFByaWNlIENhbm5vdCBiZSBFbXB0eScpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA8PSAwKSB7CiAgICAgICAgc3RvcExvc3NQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCdTdG9wbG9zcyBQcmljZSBDYW5ub3QgYmUgbGVzcyB0aGVuIDAnKTsKICAgICAgICB0aGlzLmlzRm9ybVN1Ym1pdCA/IHN0b3BMb3NzUHJpY2VJbnB1dEJveC5yZXBvcnRWYWxpZGl0eSgpIDogJyc7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHNsVGljayAhPSAwICYmIHNsVGljayAhPSAiMCIpIHsKICAgICAgICBzdG9wTG9zc1ByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoIlN0b3Bsb3NzIFByaWNlIFNob3VsZCBiZSBtdWx0aXBsZSBvZiBcIiArICIuY29uY2F0KHRoaXMudGlja1ByaWNlKSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBzdG9wTG9zc1ByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoJycpOwogICAgICB9CiAgICB9LAogICAgLy90cmFpbFByaWNlIGJhc2VkIG9uIEV4Y2hhbmdlCiAgICB0cmFpbFByaWNlVmFsaWRhdGlvbjogZnVuY3Rpb24gdHJhaWxQcmljZVZhbGlkYXRpb24oKSB7CiAgICAgIHZhciB0cmFpbFN0b3BMb3NzUHJpY2VJbnB1dEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN0cmFpbFN0b3BMb3NzUHJpY2UiKTsKICAgICAgdmFyIHZhbHVlID0gcGFyc2VGbG9hdCh0aGlzLnRyYWlsU3RvcExvc3NQcmljZSk7CiAgICAgIHZhciB0cmFpbFRpY2sgPSB0aGlzLmZsb2F0U2FmZVJlbWFpbmRlcih0aGlzLnRyYWlsU3RvcExvc3NQcmljZSwgdGhpcy50aWNrUHJpY2UpOwogICAgICB2YXIgdGFyZ2V0VmFsID0gcGFyc2VGbG9hdCh0aGlzLnRhcmdldFByaWNlKTsKCiAgICAgIGlmICh0aGlzLnRyYWlsU3RvcExvc3NQcmljZS50b1N0cmluZygpID09ICIiKSB7CiAgICAgICAgdHJhaWxTdG9wTG9zc1ByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoJ1RyYWlsU3RvcGxvc3MgUHJpY2UgQ2Fubm90IGJlIEVtcHR5Jyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHRyYWlsVGljayAhPSAwKSB7CiAgICAgICAgdHJhaWxTdG9wTG9zc1ByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoIlRyYWlsU3RvcGxvc3MgU2hvdWxkIGJlIG11bHRpcGxlIG9mIFwiICsgKCIuY29uY2F0KHRoaXMudGlja1ByaWNlLCAiKSIpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmljZVR5cGUgPT0gIkwiICYmIHZhbHVlIDwgdGhpcy50aWNrUHJpY2UgJiYgdmFsdWUgIT0gMCkgewogICAgICAgIHRyYWlsU3RvcExvc3NQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCJUcmFpbGluZyBTdG9wbG9zcyBzaG91bGQgYmUgbWluaW11bSBvZiBUaWNrUHJpY2UiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodGFyZ2V0VmFsIDwgdmFsdWUgJiYgdmFsdWUgIT0gMCkgewogICAgICAgIHRyYWlsU3RvcExvc3NQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCJUcmFpbFN0b3Bsb3NzIFNob3VsZCBiZSBMZXNzIHRoYW4gXCIgKyAoIi5jb25jYXQodGFyZ2V0VmFsLCAiKSIpKTsKICAgICAgICB0aGlzLmlzRm9ybVN1Ym1pdCA/IHRyYWlsU3RvcExvc3NQcmljZUlucHV0Qm94LnJlcG9ydFZhbGlkaXR5KCkgOiAnJzsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdHJhaWxTdG9wTG9zc1ByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoJycpOwogICAgICB9CiAgICB9LAogICAgLy9EaXNjbG9zZWQgcXR5IGJhc2VkIG9uIEV4Y2hhbmdlCiAgICBkaXNjUXR5VmFsaWRhdGlvbjogZnVuY3Rpb24gZGlzY1F0eVZhbGlkYXRpb24oKSB7CiAgICAgIHZhciBkaXNjUXR5SW5wdXRCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjZGlzY1F0eSIpOwogICAgICB2YXIgZGljUGVyY2VudGFnZTsKICAgICAgdmFyIGRpc2Nsb3NlZFF0eSA9IHBhcnNlRmxvYXQodGhpcy5kaXNjbG9zZWRRdWFudGl0eSk7CiAgICAgIHZhciBxdHkgPSBwYXJzZUZsb2F0KHRoaXMuY3VycmVudFF0eSk7CgogICAgICBpZiAodGhpcy5jdXJyZW50RXhjaGFuZ2UgPT0gIk1DWCIpIHsKICAgICAgICBkaWNQZXJjZW50YWdlID0gMjUgLyB0aGlzLlF0eTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkaWNQZXJjZW50YWdlID0gMTAgLyB0aGlzLlF0eTsKICAgICAgfQoKICAgICAgdmFyIGRpc0NoZWNrID0gcGFyc2VGbG9hdChkaXNjbG9zZWRRdHkgLyBxdHkpOwogICAgICB0aGlzLmRpc2NRdHl0aWsgPSBNYXRoLmNlaWwoZGlzQ2hlY2spOwogICAgICAvKiogRGlzY2xvc2VkIHF1YW50aXR5ICovCgogICAgICBpZiAodGhpcy5jdXJyZW50RXhjaGFuZ2UgIT0gIk5GTyIgJiYgdGhpcy5jdXJyZW50RXhjaGFuZ2UgIT0gIkJGTyIpIHsKICAgICAgICBpZiAodGhpcy5kaXNjbG9zZWRRdWFudGl0eS50b1N0cmluZygpID09ICIiKSB7CiAgICAgICAgICBkaXNjUXR5SW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoJ0Rpc2MuUXR5IHNob3VsZCBub3QgYmUgZW1wdHknKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgaWYgKGRpc2Nsb3NlZFF0eSA8IHRoaXMuZGlzY1F0eXRpayAmJiBkaXNjbG9zZWRRdHkgIT0gMCkgewogICAgICAgICAgaWYgKHRoaXMuY3VycmVudEV4Y2hhbmdlID09ICJNQ1giKSB7CiAgICAgICAgICAgIGRpc2NRdHlJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgnRGlzYy5RdHkgc2hvdWxkIGJlIGVpdGhlciAwIG9yIDI1JSB0byAxMDAlIG9mIHF1YW50aXR5Jyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50RXhjaGFuZ2UgIT0gIk1DWCIpIHsKICAgICAgICAgICAgZGlzY1F0eUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCdEaXNjLlF0eSBzaG91bGQgYmUgZWl0aGVyIDAgb3IgMTAlIHRvIDEwMCUgb2YgcXVhbnRpdHknKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGlzY1F0eUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCcnKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGRpc2Nsb3NlZFF0eSA+IHF0eSkgewogICAgICAgICAgZGlzY1F0eUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCdEaXNjLlF0eSBjYW5ub3QgYmUgZ3JlYXRlciB0aGFuIFF0eScpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkaXNjUXR5SW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoJycpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZGlzY1F0eUlucHV0Qm94LnJlcG9ydFZhbGlkaXR5KCk7CiAgICB9LAogICAgLy9GbG9hdCBTYWZlIFJlbWFpbmRlciBvZiBsYXN0IDIgZGlnaXRzIG9yIDQgZGlnaXRzCiAgICBmbG9hdFNhZmVSZW1haW5kZXI6IGZ1bmN0aW9uIGZsb2F0U2FmZVJlbWFpbmRlcih2YWwsIHN0ZXApIHsKICAgICAgdmFsID0gdmFsLnRvU3RyaW5nKCk7CiAgICAgIHN0ZXAgPSBzdGVwLnRvU3RyaW5nKCk7CiAgICAgIHZhciB2YWxEZWNDb3VudCA9IHZhbC5pbmNsdWRlcygiLiIpID8gdmFsLnNwbGl0KCIuIilbMV0ubGVuZ3RoICE9IG51bGwgPyB2YWwuc3BsaXQoIi4iKVsxXS5sZW5ndGggOiAwIDogdmFsLmxlbmd0aDsKICAgICAgdmFyIHN0ZXBEZWNDb3VudCA9IHN0ZXAuaW5jbHVkZXMoIi4iKSA/IHN0ZXAuc3BsaXQoIi4iKVsxXS5sZW5ndGggIT0gbnVsbCA/IHN0ZXAuc3BsaXQoIi4iKVsxXS5sZW5ndGggOiAwIDogc3RlcC5sZW5ndGg7CiAgICAgIHZhciBkZWNDb3VudCA9IHZhbERlY0NvdW50ID4gc3RlcERlY0NvdW50ID8gdmFsRGVjQ291bnQgOiBzdGVwRGVjQ291bnQ7CiAgICAgIHZhciB2YWxJbnQgPSBwYXJzZUZsb2F0KHBhcnNlRmxvYXQodmFsKS50b0ZpeGVkKGRlY0NvdW50KS50b1N0cmluZygpLnJlcGxhY2VBbGwoIi4iLCAiIikpOwogICAgICB2YXIgc3RlcEludCA9IHBhcnNlRmxvYXQocGFyc2VGbG9hdChzdGVwKS50b0ZpeGVkKGRlY0NvdW50KS50b1N0cmluZygpLnJlcGxhY2VBbGwoIi4iLCAiIikpOwogICAgICByZXR1cm4gdmFsSW50ICUgc3RlcEludCAvIE1hdGgucG93KDEwLCBkZWNDb3VudCk7CiAgICB9LAogICAgZ2V0T3JkZXJUYWJWYWx1ZTogZnVuY3Rpb24gZ2V0T3JkZXJUYWJWYWx1ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMub3JkZXJUeXBlTGlzdFt0aGlzLm9yZGVyVGFiXSA9PSAnUmVndWxhcicgPyAicmVndWxhciIgOiB0aGlzLm9yZGVyVHlwZUxpc3RbdGhpcy5vcmRlclRhYl0gPT0gJ0NvdmVyJyA/ICJjb3ZlciIgOiB0aGlzLm9yZGVyVHlwZUxpc3RbdGhpcy5vcmRlclRhYl0gPT0gJ0JyYWNrZXQnID8gImJyYWNrZXQiIDogdGhpcy5vcmRlclR5cGVMaXN0W3RoaXMub3JkZXJUYWJdID09ICdBTU8nID8gImFtbyIgOiAicmVndWxhciI7CiAgICB9LAogICAgLy8gY2FwaXRhbGl6ZSBmaXJzdCBsZXR0ZXIKICAgIGNhcGl0YWxpemVGaXJzdExldHRlcjogZnVuY3Rpb24gY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKHN0cmluZykgewogICAgICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpOwogICAgfSwKICAgIG5zZUJzZVN3aXRjaDogZnVuY3Rpb24gbnNlQnNlU3dpdGNoKGV4Y2gpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kc3RvcmUuY29tbWl0KCdvcmRlcldpbmRvdy9tYWtlQWN0aXZlJywgZXhjaCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzNC5jaGVja01hcmdpbkF2YWlsYWJsZSgpOwoKICAgICAgICAgICAgICAgIF90aGlzNC5wcmljZVZhbGlkYXRpb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2hlY2tEcHI6IGZ1bmN0aW9uIGNoZWNrRHByKHByaWNlLCB1YywgbGMpIHsKICAgICAgcmV0dXJuIHVjICE9PSAwICYmIHByaWNlID49IGxjICYmIHByaWNlIDw9IHVjOwogICAgfSwKICAgIC8vIGNoZWNrIG1hcmdpbiBhdmFpbGJsZSB2YWx1ZQogICAgY2hlY2tNYXJnaW5BdmFpbGFibGU6IGZ1bmN0aW9uIGNoZWNrTWFyZ2luQXZhaWxhYmxlKCkgewogICAgICB2YXIganNvbiA9IHsKICAgICAgICAidXNlcklkIjogdGhpcy5nZXRVc2VySWQsCiAgICAgICAgLy8gImV4Y2giOiB0aGlzLmN1cnJlbnRQYWdlID09ICdiYXNrZXQnID8gdGhpcy5jdXJyZW50T3JkZXIuZXhjaGFuZ2UgOiB0aGlzLmN1cnJlbnRFeGNoYW5nZSwKICAgICAgICAvLyAgImV4Y2hTZWciOiB0aGlzLmN1cnJlbnRQYWdlID09ICdiYXNrZXQnID8gdGhpcy5jdXJyZW50T3JkZXIuZXhjaGFuZ2UgOiB0aGlzLmN1cnJlbnRFeGNoYW5nZSwKICAgICAgICAvLyAic3ltYm9sIjogdGhpcy5jdXJyZW50UGFnZSA9PSAnYmFza2V0JyA/IHRoaXMuY3VycmVudE9yZGVyLnRva2VuIDogdGhpcy5uc2VCc2VUeXBlID8gdGhpcy5jdXJyZW50RXhjaGFuZ2UgPT0gJ05TRScgPyB0aGlzLm5zZVByaWNlUmFuZ2VEYXRhWzBdLnRva2VuIDogdGhpcy5ic2VQcmljZVJhbmdlRGF0YVswXS50b2tlbiA6IHRoaXMuY3VycmVudFBhZ2UgPT0gJ3Bvc2l0aW9ucycgPyB0aGlzLmN1cnJlbnRPcmRlci5Ub2tlbiA6IHRoaXMuY3VycmVudFBhZ2UgPT0gJ2hvbGRpbmdzJyA/IHRoaXMuY3VycmVudEV4Y2hhbmdlID09ICJOU0UiID8gdGhpcy5jdXJyZW50T3JkZXIuVG9rZW4xIDogdGhpcy5jdXJyZW50T3JkZXIuVG9rZW4yIDogdGhpcy5jdXJyZW50T3JkZXIudG9rZW4sCiAgICAgICAgLy8gInBDb2RlIjogdGhpcy5jdXJyZW50UGFnZSA9PSAnYmFza2V0JyA/IHRoaXMuY3VycmVudE9yZGVyLnByb2R1Y3QgOiB0aGlzLnByb2RUeXBlLAogICAgICAgIC8vICJwcmljZSI6IHRoaXMuY3VycmVudFBhZ2UgPT0gJ2Jhc2tldCcgPyB0aGlzLmN1cnJlbnRPcmRlci5wcmljZSA6IHRoaXMucHJpY2UudG9TdHJpbmcoKSwKICAgICAgICAvLyAicXR5IjogdGhpcy5jdXJyZW50UGFnZSA9PSAnYmFza2V0JyA/IHBhcnNlSW50KHRoaXMuY3VycmVudE9yZGVyLnF1YW50aXR5KSA6IHBhcnNlSW50KHRoaXMucXVhbnRpdHkpLAogICAgICAgIC8vICJ0cmFuc3R5cGUiOiB0aGlzLmN1cnJlbnRQYWdlID09ICdiYXNrZXQnID8gdGhpcy5jdXJyZW50T3JkZXIudHJhbnNhY3Rpb25fdHlwZSA6IHRoaXMub3JkZXJUeXBlLAogICAgICAgIC8vICJwcmN0eXAiOiB0aGlzLmN1cnJlbnRQYWdlID09ICdiYXNrZXQnID8gdGhpcy5jdXJyZW50T3JkZXIub3JkZXJfdHlwZSA6IHRoaXMucHJpY2VUeXBlLAogICAgICAgICJleGNoIjogdGhpcy5jdXJyZW50RXhjaGFuZ2UsCiAgICAgICAgImV4Y2hTZWciOiB0aGlzLmN1cnJlbnRFeGNoYW5nZSwKICAgICAgICAic3ltYm9sIjogdGhpcy5uc2VCc2VUeXBlID8gdGhpcy5jdXJyZW50RXhjaGFuZ2UgPT0gJ05TRScgPyB0aGlzLm5zZVByaWNlUmFuZ2VEYXRhWzBdLnRva2VuIDogdGhpcy5ic2VQcmljZVJhbmdlRGF0YVswXS50b2tlbiA6IHRoaXMuY3VycmVudFBhZ2UgPT0gJ3Bvc2l0aW9ucycgPyB0aGlzLmN1cnJlbnRPcmRlci5Ub2tlbiA6IHRoaXMuY3VycmVudFBhZ2UgPT0gJ2hvbGRpbmdzJyA/IHRoaXMuY3VycmVudEV4Y2hhbmdlID09ICJOU0UiID8gdGhpcy5jdXJyZW50T3JkZXIuVG9rZW4xIDogdGhpcy5jdXJyZW50T3JkZXIuVG9rZW4yIDogdGhpcy5jdXJyZW50T3JkZXIudG9rZW4sCiAgICAgICAgInBDb2RlIjogdGhpcy5wcm9kVHlwZSA/IHRoaXMucHJvZFR5cGUgOiAiTUlTIiwKICAgICAgICAicHJpY2UiOiB0aGlzLnByaWNlLnRvU3RyaW5nKCksCiAgICAgICAgInF0eSI6IHBhcnNlSW50KHRoaXMucXVhbnRpdHkpLAogICAgICAgICJ0cmFuc3R5cGUiOiB0aGlzLm9yZGVyVHlwZSwKICAgICAgICAicHJjdHlwIjogdGhpcy5wcmljZVR5cGUgPyB0aGlzLnByaWNlVHlwZSA6ICJMIiwKICAgICAgICAiY29tcGxleHR5IjogdGhpcy5nZXRPcmRlclRhYlZhbHVlKHRoaXMub3JkZXJUYWIpLAogICAgICAgICJ0cmlnUHJpY2UiOiB0aGlzLmN1cnJlbnRQYWdlID09ICdiYXNrZXQnID8gdGhpcy5jdXJyZW50T3JkZXIudHJpZ2dlcl9wcmljZSA6IHRoaXMudHJpZ2dlclByaWNlLAogICAgICAgICJ0YXJnZXQiOiB0aGlzLmN1cnJlbnRQYWdlID09ICdiYXNrZXQnID8gdGhpcy5jdXJyZW50T3JkZXIudGFyZ2V0X3ByaWNlIDogdGhpcy50YXJnZXRQcmljZSwKICAgICAgICAic3RvcExvc3MiOiB0aGlzLmN1cnJlbnRQYWdlID09ICdiYXNrZXQnID8gdGhpcy5jdXJyZW50T3JkZXIuc3RvcGxvc3MgOiB0aGlzLnN0b3BMb3NzUHJpY2UsCiAgICAgICAgInRyYWlsaW5nX3N0b3BfbG9zcyI6IHRoaXMuY3VycmVudFBhZ2UgPT0gJ2Jhc2tldCcgPyB0aGlzLmN1cnJlbnRPcmRlci50cmFpbGluZ19zdG9wbG9zcyA6IHRoaXMudHJhaWxTdG9wTG9zc1ByaWNlCiAgICAgIH07CiAgICAgICFpc05hTih0aGlzLnByaWNlKSAmJiAhaXNOYU4odGhpcy5xdWFudGl0eSkgJiYgIWlzTmFOKHRoaXMudHJpZ2dlclByaWNlKSA/IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdvcmRlcldpbmRvdy9nZXRNYXJnaW5BdmFpbGFibGUnLCBqc29uKSA6ICcnOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHByaWNlVHlwZTogZnVuY3Rpb24gcHJpY2VUeXBlKHZhbCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ29yZGVyV2luZG93L2NoYW5nZU9yZGVyVHlwZScsIHRoaXMuZ2V0T3JkZXJUYWJWYWx1ZSgpKTsKCiAgICAgIGlmICgodGhpcy5jdXJyZW50UGFnZSA9PSAibWtXYXRjaCIgfHwgdGhpcy5jdXJyZW50UGFnZSA9PSAib3JkZXJzIiB8fCB0aGlzLmN1cnJlbnRQYWdlID09ICJhbmFseXRpY3MiKSAmJiB0aGlzLm1vZGlmeU9yZGVyID09IGZhbHNlKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIm9yZGVyUHJlZmVyZW5jZSIsIEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgIHByb2R1Y3Q6IHRoaXMucHJvZFR5cGUsCiAgICAgICAgICB2YWxpZGl0eTogdGhpcy52YWxpZGl0eVR5cGUsCiAgICAgICAgICB2YXJpZXR5OiB0aGlzLmdldE9yZGVyVGFiVmFsdWUodGhpcy5vcmRlclR5cGUpLAogICAgICAgICAgb3JkZXJUeXBlOiB0aGlzLnByaWNlVHlwZQogICAgICAgIH0pKTsKICAgICAgfQoKICAgICAgaWYgKHZhbCA9PSAnTCcpIHsKICAgICAgICB0aGlzLnByaWNlID8gdGhpcy5wcmljZVZhbGlkYXRpb24oKSA6ICcnOwogICAgICB9CgogICAgICBpZiAodmFsID09ICdTTCcpIHsKICAgICAgICB0aGlzLnByaWNlID8gdGhpcy5wcmljZVZhbGlkYXRpb24oKSA6ICcnOwogICAgICAgIHRoaXMudHJpZ2dlclByaWNlID8gdGhpcy50cmlnZ2VyUHJpY2VWYWxpYXRpb24oKSA6ICcnOwogICAgICB9CgogICAgICBpZiAodmFsID09ICdTTC1NJykgewogICAgICAgIHRoaXMudHJpZ2dlclByaWNlID8gdGhpcy50cmlnZ2VyUHJpY2VWYWxpYXRpb24oKSA6ICcnOwogICAgICB9CiAgICB9LAogICAgcHJvZFR5cGU6IGZ1bmN0aW9uIHByb2RUeXBlKHZhbCkgewogICAgICBpZiAoKHRoaXMuY3VycmVudFBhZ2UgPT0gIm1rV2F0Y2giIHx8IHRoaXMuY3VycmVudFBhZ2UgPT0gIm9yZGVycyIgfHwgdGhpcy5jdXJyZW50UGFnZSA9PSAiYW5hbHl0aWNzIikgJiYgdGhpcy5tb2RpZnlPcmRlciA9PSBmYWxzZSkgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJvcmRlclByZWZlcmVuY2UiLCBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICBwcm9kdWN0OiB0aGlzLnByb2RUeXBlLAogICAgICAgICAgdmFsaWRpdHk6IHRoaXMudmFsaWRpdHlUeXBlLAogICAgICAgICAgdmFyaWV0eTogdGhpcy5nZXRPcmRlclRhYlZhbHVlKHRoaXMub3JkZXJUYWIpLAogICAgICAgICAgb3JkZXJUeXBlOiB0aGlzLnByaWNlVHlwZQogICAgICAgIH0pKTsKICAgICAgfQogICAgfSwKICAgIG9yZGVyVGFiOiBmdW5jdGlvbiBvcmRlclRhYih2YWwpIHsKICAgICAgaWYgKCh0aGlzLmN1cnJlbnRQYWdlID09ICJta1dhdGNoIiB8fCB0aGlzLmN1cnJlbnRQYWdlID09ICJvcmRlcnMiIHx8IHRoaXMuY3VycmVudFBhZ2UgPT0gImFuYWx5dGljcyIpICYmIHRoaXMubW9kaWZ5T3JkZXIgPT0gZmFsc2UpIHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgib3JkZXJQcmVmZXJlbmNlIiwgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgcHJvZHVjdDogdGhpcy5wcm9kVHlwZSwKICAgICAgICAgIHZhbGlkaXR5OiB0aGlzLnZhbGlkaXR5VHlwZSwKICAgICAgICAgIHZhcmlldHk6IHRoaXMuZ2V0T3JkZXJUYWJWYWx1ZSh0aGlzLm9yZGVyVGFiKSwKICAgICAgICAgIG9yZGVyVHlwZTogdGhpcy5wcmljZVR5cGUKICAgICAgICB9KSk7CiAgICAgIH0KICAgIH0sCiAgICB2YWxpZGl0eVR5cGU6IGZ1bmN0aW9uIHZhbGlkaXR5VHlwZSh2YWwpIHsKICAgICAgaWYgKCh0aGlzLmN1cnJlbnRQYWdlID09ICJta1dhdGNoIiB8fCB0aGlzLmN1cnJlbnRQYWdlID09ICJvcmRlcnMiIHx8IHRoaXMuY3VycmVudFBhZ2UgPT0gImFuYWx5dGljcyIpICYmIHRoaXMubW9kaWZ5T3JkZXIgPT0gZmFsc2UpIHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgib3JkZXJQcmVmZXJlbmNlIiwgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgcHJvZHVjdDogdGhpcy5wcm9kVHlwZSwKICAgICAgICAgIHZhbGlkaXR5OiB0aGlzLnZhbGlkaXR5VHlwZSwKICAgICAgICAgIHZhcmlldHk6IHRoaXMuZ2V0T3JkZXJUYWJWYWx1ZSh0aGlzLm9yZGVyVGFiKSwKICAgICAgICAgIG9yZGVyVHlwZTogdGhpcy5wcmljZVR5cGUKICAgICAgICB9KSk7CiAgICAgIH0KICAgIH0sCiAgICB0YXJnZXRQcmljZTogZnVuY3Rpb24gdGFyZ2V0UHJpY2UodmFsKSB7CiAgICAgIHRoaXMuY2hlY2tNYXJnaW5BdmFpbGFibGUoKTsKICAgIH0sCiAgICBzdG9wTG9zc1ByaWNlOiBmdW5jdGlvbiBzdG9wTG9zc1ByaWNlKHZhbCkgewogICAgICB0aGlzLmNoZWNrTWFyZ2luQXZhaWxhYmxlKCk7CiAgICB9LAogICAgdHJhaWxTdG9wTG9zc1ByaWNlOiBmdW5jdGlvbiB0cmFpbFN0b3BMb3NzUHJpY2UodmFsKSB7CiAgICAgIHRoaXMuY2hlY2tNYXJnaW5BdmFpbGFibGUoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oIm9yZGVyUHJlZmVyZW5jZSIpID09IG51bGwgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oIm9yZGVyUHJlZmVyZW5jZSIpID09IHVuZGVmaW5lZCkgewogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgib3JkZXJQcmVmZXJlbmNlIiwgSlNPTi5zdHJpbmdpZnkoewogICAgICAgIHByb2R1Y3Q6IHRoaXMucHJvZFR5cGUsCiAgICAgICAgdmFsaWRpdHk6IHRoaXMudmFsaWRpdHlUeXBlLAogICAgICAgIHZhcmlldHk6IHRoaXMuZ2V0T3JkZXJUYWJWYWx1ZSh0aGlzLm9yZGVyVGFiKSwKICAgICAgICBvcmRlclR5cGU6IHRoaXMucHJpY2VUeXBlCiAgICAgIH0pKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/stoneage/vueJs projects/aliceblueTradevuex/src/mixins/orderWindow.js"],"names":["mapActions","mapState","mapGetters","data","nseKey","text","priceItems","productItems","showMore","coverOrBracketValidityItems","coverOrBracketProductItems","targetPrice","stopLossPrice","trailStopLossPrice","currentOrderTab","errorMsg","isFormSubmit","components","draggable","computed","showproductItems","get","$store","state","orderWindow","set","newValue","commit","showPriceItems","quantity","value","checkMarginAvailable","price","isPrice","triggerPrice","isTrgPrice","disclosedQuantity","isDisclosedQty","nseBseRadioSwitch","currentExchange","buySellRadio","orderType","priceType","getPriceType","prodType","getProdType","orderTab","getOrderTab","validityType","getValidityType","showValidityItems","validityItems","methods","changeOrderTab","getOrderTabValue","dispatch","selectedIndex","selectedOrder","toLowerCase","toggleOrderWindow","order","hideOrderWindow","modifyOrder","placeOrder","json","qty","complexity","ordertab","pcode","trgPrice","stopLoss","trailStopLoss","discQty","validity","qtyInputBox","document","querySelector","priceInputBox","trgPriceInputBox","targetPriceInputBox","stopLossPriceInputBox","trailStopLossPriceInputBox","discQtyInputBox","quantityValidation","priceValidation","triggerPriceValiation","orderTypeList","targetPriceValidation","stopLossPriceValidation","trailPriceValidation","discQtyValidation","checkValidity","checkQuantity","event","keyCode","showError","inp","String","fromCharCode","test","preventDefault","decimalAllowed","qtyVal","parseFloat","qtyLot","floatSafeRemainder","minlot","toString","setCustomValidity","priceVal","lowerRangeVal","lowerRange","upperRangeVal","upperRange","checkDprVal","checkDpr","priceTick","tickPrice","reportValidity","ltp","Number","trigPriceVal","trigTick","targetTick","slTick","trailTick","targetVal","dicPercentage","disclosedQty","currentQty","Qty","disCheck","discQtytik","Math","ceil","val","step","valDecCount","includes","split","length","stepDecCount","decCount","valInt","toFixed","replaceAll","stepInt","pow","capitalizeFirstLetter","string","charAt","toUpperCase","slice","nseBseSwitch","exch","uc","lc","getUserId","nseBseType","nsePriceRangeData","token","bsePriceRangeData","currentPage","currentOrder","Token","Token1","Token2","parseInt","trigger_price","target_price","stoploss","trailing_stoploss","isNaN","watch","localStorage","setItem","JSON","stringify","product","variety","created","getItem","undefined"],"mappings":"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","sourcesContent":["import { mapActions, mapState, mapGetters } from \"vuex\";\nexport default {\n  data () {\n    return {\n      nseKey: \"123.45\",\n      text: \"center\",\n      priceItems: [\"L\", \"MKT\", \"SL\", \"SL-M\"],\n      productItems: [\"MIS\", \"NRML\"],\n      // showValidityItems: ['DAY', 'IOC'],\n      // validityType: \"\",\n      showMore: false,\n      coverOrBracketValidityItems: [\"DAY\"],\n      coverOrBracketProductItems: [\"MIS\"],\n      targetPrice: 0,\n      stopLossPrice: 0,\n      trailStopLossPrice: 0,\n      // disclosedQuantity: 0,\n\n      //input field hide show\n      currentOrderTab: \"regular\",\n      errorMsg: \"\",\n      isFormSubmit: false,\n    };\n  },\n\n  components: {\n    draggable: () =>\n      import(/* webpackChunkName: \"draggable\" */ \"../components/draggable.vue\"),\n  },\n\n  computed: {\n    ...mapState(\"marketWatch\", [\"marketDepthData\"]),\n    ...mapState(\"orderWindow\", [\n      \"showOrderWindow\",\n      \"orderType\",\n      \"toggleOrder\",\n      \"priceRangeDetails\",\n      \"nsePriceRangeData\",\n      \"bsePriceRangeData\",\n      \"scriptQuoteDetails\",\n      \"currentOrder\",\n      \"minlot\",\n      \"ltp\",\n      \"tickPrice\",\n      \"currentOrder\",\n      \"nseBseType\",\n      \"currentInstrument\",\n      \"currentExchange\",\n      \"currentPage\",\n      \"modifyOrder\",\n      \"loading\",\n      \"windowLoading\",\n      \"isNfo\",\n      \"orderTypeList\",\n      \"validityItems\",\n      \"bracketPriceItems\",\n      \"coverPriceItems\",\n      \"lowerRange\",\n      \"upperRange\",\n      \"removeCss\",\n      \"isPrice\",\n      \"isTrgPrice\",\n      \"isDisclosedQty\",\n      \"nseSwitchPrice\",\n      \"bseSwitchPrice\",\n    ]),\n    ...mapGetters(\"orderWindow\", [\n      \"getPriceType\",\n      \"getProdType\",\n      \"getOrderTab\",\n      \"getValidityType\",\n      \"getTriggerPrice\",\n      \"getCurrentLtp\",\n      \"getAvailableMargin\",\n    ]),\n    ...mapGetters(\"authtication\", [\n      \"getUserId\",\n    ]),\n\n    showproductItems: {\n      get () {\n        return this.$store.state.orderWindow.showproductItems;\n      },\n      set (newValue) {\n        this.$store.commit(\"orderWindow/setProductItems\", newValue);\n      },\n    },\n\n    showPriceItems: {\n      get () {\n        return this.$store.state.orderWindow.showPriceItems;\n      },\n      set (newValue) {\n        this.$store.commit(\"orderWindow/setPriceItems\", newValue);\n      },\n    },\n\n    quantity: {\n      get () {\n        return this.$store.state.orderWindow.quantity;\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setCurrentQty\", value);\n        this.checkMarginAvailable();\n      },\n    },\n\n    price: {\n      get () {\n        return this.isPrice ? this.$store.state.orderWindow.price : 0\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setCurrentPrice\", value);\n        this.checkMarginAvailable();\n      },\n    },\n\n    triggerPrice: {\n      get () {\n        return this.isTrgPrice ? this.$store.state.orderWindow.triggerPrice : 0\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setCurrentTrgPrice\", value);\n        this.checkMarginAvailable();\n      },\n    },\n\n    disclosedQuantity: {\n      get () {\n        return this.isDisclosedQty ? this.$store.state.orderWindow.disclosedQuantity : 0\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setDisclosedQty\", value);\n      }\n    },\n\n    nseBseRadioSwitch: {\n      get () {\n        return this.currentExchange;\n      },\n      set (value) {\n        return value;\n      },\n    },\n\n    buySellRadio: {\n      get () {\n        return this.orderType == 'buy' ? true : false\n      },\n      set (value) {\n        return value;\n      }\n    },\n\n    priceType: {\n      get () {\n        return this.getPriceType;\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setPriceType\", value);\n        this.checkMarginAvailable();\n      },\n    },\n\n    prodType: {\n      get () {\n        return this.getProdType;\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setProdType\", value);\n        this.checkMarginAvailable();\n      },\n    },\n\n    orderTab: {\n      get () {\n        return this.getOrderTab;\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setOrderTab\", value);\n      },\n    },\n\n    validityType: {\n      get () { return this.getValidityType },\n      set (value) {\n        this.$store.commit(\"orderWindow/setValidityType\", value);\n      }\n    },\n\n    showValidityItems: {\n      get () {\n        return this.validityItems;\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setValidityItems\", value);\n      }\n    }\n  },\n\n  methods: {\n    // change tab hide show function\n    changeOrderTab () {\n    \n      this.errorMsg = \"\";\n      // if (this.orderTypeList[this.orderTab] == 'Cover') {\n      //   this.showproductItems = this.coverOrBracketProductItems;\n      //   this.showPriceItems = this.coverPriceItems;\n      //   // this.showValidityItems = this.coverOrBracketValidityItems;\n      //   this.$store.commit(\"orderWindow/setValidityItems\", this.coverOrBracketValidityItems);\n      // } else if (this.orderTypeList[this.orderTab] == 'Bracket') {\n      //   this.showproductItems = this.coverOrBracketProductItems;\n      //   this.showPriceItems = this.bracketPriceItems;\n      //   // this.showValidityItems = this.coverOrBracketValidityItems;\n      //   this.$store.commit(\"orderWindow/setValidityItems\", this.coverOrBracketValidityItems);\n      // }else if (this.orderTypeList[this.orderTab] == 'AMO') {\n      //   this.showproductItems =\n      //     this.currentExchange == \"NSE\" || this.currentExchange == \"BSE\"\n      //       ? this.$store.state.orderWindow.eqProductItems\n      //       : this.$store.state.orderWindow.allProductItems;\n      //   // this.showproductItems = this.coverOrBracketProductItems;\n      //   this.showPriceItems = [\"L\"]\n      //   this.$store.commit(\"orderWindow/setValidityItems\", this.coverOrBracketValidityItems);\n      // } else if (this.orderTypeList[this.orderTab]) {\n      //   this.showPriceItems =  this.isNfo\n      //     ? this.$store.state.orderWindow.allPriceItems\n      //     : this.$store.state.orderWindow.postionPriceItems;\n      //   this.showproductItems =\n      //     this.currentExchange == \"NSE\" || this.currentExchange == \"BSE\"\n      //       ? this.$store.state.orderWindow.eqProductItems\n      //       : this.$store.state.orderWindow.allProductItems;\n      //   // this.showValidityItems = this.validityItems;\n      //   this.$store.commit(\"orderWindow/setValidityItems\", ['DAY', 'IOC']);\n      // }\n\n      this.$store.commit('orderWindow/changeOrderType', this.getOrderTabValue())\n      this.$store.dispatch('common/setProdTypeCommon' , '')\n      this.checkMarginAvailable();\n    },\n\n    // find select order type like regular Or amo\n    selectedIndex (selectedOrder) {\n      this.currentOrderTab = selectedOrder.toLowerCase();\n      this.$store.commit('orderWindow/changeOrderType', this.getOrderTabValue())\n    },\n\n    //Toggle orderWindow\n    async toggleOrderWindow () {\n      var order = this.orderType == \"buy\" ? \"sell\" : \"buy\";\n     await this.$store.commit(\"orderWindow/setOrderType\", order);\n     await this.$store.commit(\"orderWindow/valiDateQty\", \"\");\n      this.checkMarginAvailable();\n    },\n\n    //call orderWindow\n    async hideOrderWindow () {\n      !this.modifyOrder ? this.$store.commit(\"orderWindow/setOrderWindow\", false) : this.$store.commit(\"orderWindow/setOrderWindowModify\", false)\n    },\n\n    // order place\n    async placeOrder () {\n      this.isFormSubmit = true;\n      let json = {\n        qty: this.quantity,\n        complexity: this.getOrderTabValue(this.ordertab),\n        pcode: this.prodType.toLowerCase(),\n        priceType: this.priceType,\n        price: this.price,\n        trgPrice: this.triggerPrice,\n        stopLoss: this.stopLossPrice,\n        trailStopLoss: this.trailStopLossPrice,\n        discQty: this.disclosedQuantity,\n        validity: this.validityType,\n      };\n      var qtyInputBox = document.querySelector(\"#qty\");\n      var priceInputBox = document.querySelector(\"#price\");\n      var trgPriceInputBox = document.querySelector(\"#triggerPrice\");\n      var targetPriceInputBox = document.querySelector(\"#triggerPrice\");\n      var stopLossPriceInputBox = document.querySelector(\"#stopLossPrice\");\n      var trailStopLossPriceInputBox = document.querySelector(\"#trailStopLossPrice\");\n      var discQtyInputBox = document.querySelector(\"#discQty\");\n      this.quantityValidation();\n      this.priceValidation();\n      this.triggerPriceValiation();\n      if (this.orderTypeList[this.orderTab] === 'Bracket') {\n        this.targetPriceValidation();\n        this.stopLossPriceValidation();\n        this.trailPriceValidation();\n      }\n      if (this.showMore) {\n        this.discQtyValidation();\n      }\n      if (this.orderTypeList[this.orderTab] == 'Bracket' ? targetPriceInputBox.checkValidity() && stopLossPriceInputBox.checkValidity() && trailStopLossPriceInputBox.checkValidity() : true && qtyInputBox.checkValidity() && this.isPrice ? priceInputBox.checkValidity() : true && this.isTrgPrice ? trgPriceInputBox.checkValidity() : true &&\n        this.showMore ? discQtyInputBox.checkValidity() : true) {\n        this.hideOrderWindow();\n        this.modifyOrder\n          ? await this.$store.dispatch(\"orderWindow/modifyOrder\", json)\n          : await this.$store.dispatch(\"orderWindow/placeOrder\", json);\n      }\n      this.isFormSubmit = false;\n    },\n\n    checkQuantity (event) {\n      if (event.keyCode != 13) {\n        this.showError = true;\n        var inp = String.fromCharCode(event.keyCode);\n        if (/[0-9]/.test(inp)) {\n          return true;\n        } else {\n          event.preventDefault();\n          return false;\n        }\n      }\n    },\n\n    decimalAllowed (event) {\n      if (event.keyCode != 13) {\n        this.showError = true;\n        var inp = String.fromCharCode(event.keyCode);\n        if (/[0-9.]/.test(inp)) {\n          return true;\n        } else {\n          event.preventDefault();\n          return false;\n        }\n      }\n    },\n\n    // quantity validation\n    quantityValidation () {\n      var qtyVal = parseFloat(this.quantity);\n      var qtyLot = this.floatSafeRemainder(qtyVal, this.minlot);\n      const qtyInputBox = document.querySelector(\"#qty\");\n      if (this.quantity.toString() == \"\") {\n        return qtyInputBox.setCustomValidity(\"Quantity cannot not be empty\")\n      } else if (qtyVal == 0) {\n        return qtyInputBox.setCustomValidity(\"Quantity cannot be zero\")\n      } else if (qtyLot != 0 && this.minlot > 0) {\n        return qtyInputBox.setCustomValidity(\"Quantity should be multiple of lot size. (\" + this.minlot + \")\")\n      } else {\n        qtyInputBox.setCustomValidity('')\n      }\n    },\n\n    // price validation\n    priceValidation () {\n      const priceInputBox = document.querySelector(\"#price\");\n      var priceVal = parseFloat(this.price);\n      var lowerRangeVal = parseFloat(this.lowerRange);\n      var upperRangeVal = parseFloat(this.upperRange);\n      var checkDprVal = this.checkDpr(priceVal, upperRangeVal, lowerRangeVal)\n      var priceTick = this.floatSafeRemainder(priceVal, this.tickPrice);\n\n      if (this.price.toString() == \"\") {\n        priceInputBox.setCustomValidity('Price cannot be Empty')\n        return;\n      } else if (priceVal == 0) {\n        priceInputBox.setCustomValidity(`Price cannot be zero`);\n        this.isFormSubmit ? priceInputBox.reportValidity() : ''\n        return;\n      } else if (priceTick != 0) {\n        priceInputBox.setCustomValidity(`Price Should be multiple of Tick size ${this.tickPrice}`)\n        return;\n      } else if (\n        !checkDprVal && this.ltp != 0 && Number(this.ltp) >= lowerRangeVal && Number(this.ltp) <= upperRangeVal &&\n        this.priceType != \"market\" &&\n        this.priceType != \"sl-m\"\n      ) {\n        priceInputBox.setCustomValidity(`Price Should be within the DPR range`)\n        return;\n      } else {\n        priceInputBox.setCustomValidity('')\n      }\n    },\n\n    // stoploss price validation\n    triggerPriceValiation () {\n      const trgPriceInputBox = document.querySelector(\"#triggerPrice\");\n      var trigPriceVal = parseFloat(this.triggerPrice);\n      var trigTick = this.floatSafeRemainder(trigPriceVal, this.tickPrice);\n      if (this.triggerPrice.toString() == \"\") {\n        trgPriceInputBox.setCustomValidity('Trigger Price cannot be Empty');\n        return;\n      } else if (trigPriceVal == 0) {\n        trgPriceInputBox.setCustomValidity('Trigger Price cannot be zero');\n        return;\n      } else if (trigTick != 0) {\n        trgPriceInputBox.setCustomValidity(`Trigger Price Should be multiple of Ticks ${this.tickPrice}`);\n        return;\n      } else {\n        trgPriceInputBox.setCustomValidity('');\n      }\n    },\n\n    //targetPrice based on Exchange\n    targetPriceValidation () {\n      const targetPriceInputBox = document.querySelector(\"#targetPrice\");\n      var value = parseFloat(this.targetPrice);\n      var targetTick = this.floatSafeRemainder(value, this.tickPrice);\n      if (this.targetPrice.toString() == \"\") {\n        targetPriceInputBox.setCustomValidity('Target Price Cannot be Empty')\n        return\n      } else if (value == 0) {\n        targetPriceInputBox.setCustomValidity('Target Price should be greater than 0')\n        this.isFormSubmit ? targetPriceInputBox.reportValidity() : ''\n        return\n      } else if (targetTick != 0) {\n        targetPriceInputBox.setCustomValidity(`Target Price should be multiple of \" + ${this.tickPrice}`)\n        return\n      } else {\n        targetPriceInputBox.setCustomValidity('')\n        return\n      }\n    },\n\n    //stopLossPrice based on Exchange\n    stopLossPriceValidation () {\n      const stopLossPriceInputBox = document.querySelector(\"#stopLossPrice\");\n      var value = parseFloat(this.stopLossPrice);\n      var slTick = this.floatSafeRemainder(value, this.tickPrice);\n      if (this.stopLossPrice.toString() == \"\") {\n        stopLossPriceInputBox.setCustomValidity('Stoploss Price Cannot be Empty')\n        return;\n      } else if (value <= 0) {\n        stopLossPriceInputBox.setCustomValidity('Stoploss Price Cannot be less then 0')\n        this.isFormSubmit ? stopLossPriceInputBox.reportValidity() : ''\n        return;\n      } else if (slTick != 0 && slTick != \"0\") {\n        stopLossPriceInputBox.setCustomValidity(`Stoploss Price Should be multiple of \" + ${this.tickPrice}`)\n        return;\n      } else {\n        return stopLossPriceInputBox.setCustomValidity('')\n      }\n    },\n\n    //trailPrice based on Exchange\n    trailPriceValidation () {\n      const trailStopLossPriceInputBox = document.querySelector(\"#trailStopLossPrice\");\n      var value = parseFloat(this.trailStopLossPrice);\n      var trailTick = this.floatSafeRemainder(\n        this.trailStopLossPrice,\n        this.tickPrice\n      );\n      var targetVal = parseFloat(this.targetPrice);\n      if (this.trailStopLossPrice.toString() == \"\") {\n        trailStopLossPriceInputBox.setCustomValidity('TrailStoploss Price Cannot be Empty')\n        return;\n      } else if (trailTick != 0) {\n        trailStopLossPriceInputBox.setCustomValidity(`TrailStoploss Should be multiple of \" + (${this.tickPrice})`)\n        return;\n      } else if (this.priceType == \"L\" && value < this.tickPrice && value != 0) {\n        trailStopLossPriceInputBox.setCustomValidity(`Trailing Stoploss should be minimum of TickPrice`)\n        return;\n      } else if (targetVal < value && value != 0) {\n        trailStopLossPriceInputBox.setCustomValidity(`TrailStoploss Should be Less than \" + (${targetVal})`)\n        this.isFormSubmit ? trailStopLossPriceInputBox.reportValidity() : ''\n        return;\n      } else {\n        trailStopLossPriceInputBox.setCustomValidity('')\n      }\n    },\n\n    //Disclosed qty based on Exchange\n    discQtyValidation () {\n      const discQtyInputBox = document.querySelector(\"#discQty\");\n      let dicPercentage;\n      var disclosedQty = parseFloat(this.disclosedQuantity);\n      var qty = parseFloat(this.currentQty);\n      if (this.currentExchange == \"MCX\") {\n        dicPercentage = 25 / this.Qty;\n      } else {\n        dicPercentage = 10 / this.Qty;\n      }\n      var disCheck = parseFloat(disclosedQty / qty);\n      this.discQtytik = Math.ceil(disCheck);\n\n      /** Disclosed quantity */\n      if (this.currentExchange != \"NFO\" && this.currentExchange != \"BFO\") {\n        if (this.disclosedQuantity.toString() == \"\") {\n          discQtyInputBox.setCustomValidity('Disc.Qty should not be empty')\n          return;\n        } else if (disclosedQty < this.discQtytik && disclosedQty != 0) {\n          if (this.currentExchange == \"MCX\") {\n            discQtyInputBox.setCustomValidity('Disc.Qty should be either 0 or 25% to 100% of quantity')\n            return;\n          } else if (this.currentExchange != \"MCX\") {\n            discQtyInputBox.setCustomValidity('Disc.Qty should be either 0 or 10% to 100% of quantity')\n            return;\n          } else {\n            discQtyInputBox.setCustomValidity('')\n          }\n        } else if (disclosedQty > qty) {\n          discQtyInputBox.setCustomValidity('Disc.Qty cannot be greater than Qty')\n          return;\n        } else {\n          discQtyInputBox.setCustomValidity('')\n        }\n      }\n      discQtyInputBox.reportValidity()\n    },\n\n    //Float Safe Remainder of last 2 digits or 4 digits\n    floatSafeRemainder (val, step) {\n      val = val.toString();\n      step = step.toString();\n      var valDecCount = val.includes(\".\")\n        ? val.split(\".\")[1].length != null\n          ? val.split(\".\")[1].length\n          : 0\n        : val.length;\n      var stepDecCount = step.includes(\".\")\n        ? step.split(\".\")[1].length != null\n          ? step.split(\".\")[1].length\n          : 0\n        : step.length;\n      var decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n      var valInt = parseFloat(\n        parseFloat(val).toFixed(decCount).toString().replaceAll(\".\", \"\")\n      );\n      var stepInt = parseFloat(\n        parseFloat(step).toFixed(decCount).toString().replaceAll(\".\", \"\")\n      );\n      return (valInt % stepInt) / Math.pow(10, decCount);\n    },\n\n    getOrderTabValue () {\n      return this.orderTypeList[this.orderTab] == 'Regular'\n        ? \"regular\"\n        : this.orderTypeList[this.orderTab] == 'Cover'\n          ? \"cover\"\n          : this.orderTypeList[this.orderTab] == 'Bracket'\n            ? \"bracket\"\n            : this.orderTypeList[this.orderTab] == 'AMO'\n              ? \"amo\"\n              : \"regular\";\n    },\n\n    // capitalize first letter\n    capitalizeFirstLetter (string) {\n      return string.charAt(0).toUpperCase() + string.slice(1);\n    },\n\n    async nseBseSwitch (exch) {\n      await this.$store.commit('orderWindow/makeActive', exch)\n      this.checkMarginAvailable()\n      this.priceValidation()\n    },\n\n    checkDpr (price, uc, lc) {\n      return uc !== 0 && price >= lc && price <= uc\n    },\n\n    // check margin availble value\n    checkMarginAvailable () {\n\n      let json = {\n        \"userId\": this.getUserId,\n\n        // \"exch\": this.currentPage == 'basket' ? this.currentOrder.exchange : this.currentExchange,\n       //  \"exchSeg\": this.currentPage == 'basket' ? this.currentOrder.exchange : this.currentExchange,\n        // \"symbol\": this.currentPage == 'basket' ? this.currentOrder.token : this.nseBseType ? this.currentExchange == 'NSE' ? this.nsePriceRangeData[0].token : this.bsePriceRangeData[0].token : this.currentPage == 'positions' ? this.currentOrder.Token : this.currentPage == 'holdings' ? this.currentExchange == \"NSE\" ? this.currentOrder.Token1 : this.currentOrder.Token2 : this.currentOrder.token,\n        // \"pCode\": this.currentPage == 'basket' ? this.currentOrder.product : this.prodType,\n        // \"price\": this.currentPage == 'basket' ? this.currentOrder.price : this.price.toString(),\n        // \"qty\": this.currentPage == 'basket' ? parseInt(this.currentOrder.quantity) : parseInt(this.quantity),\n        // \"transtype\": this.currentPage == 'basket' ? this.currentOrder.transaction_type : this.orderType,\n        // \"prctyp\": this.currentPage == 'basket' ? this.currentOrder.order_type : this.priceType,\n\n        \"exch\": this.currentExchange,\n        \"exchSeg\": this.currentExchange,\n        \"symbol\": this.nseBseType ? this.currentExchange == 'NSE' ? this.nsePriceRangeData[0].token : this.bsePriceRangeData[0].token : this.currentPage == 'positions' ? this.currentOrder.Token : this.currentPage == 'holdings' ? this.currentExchange == \"NSE\" ? this.currentOrder.Token1 : this.currentOrder.Token2 : this.currentOrder.token,\n        \"pCode\": this.prodType ? this.prodType : \"MIS\",\n        \"price\": this.price.toString(),\n        \"qty\": parseInt(this.quantity),\n        \"transtype\": this.orderType,\n        \"prctyp\": this.priceType ? this.priceType : \"L\",\n        \"complexty\": this.getOrderTabValue(this.orderTab),\n        \"trigPrice\": this.currentPage == 'basket' ? this.currentOrder.trigger_price : this.triggerPrice,\n        \"target\": this.currentPage == 'basket' ? this.currentOrder.target_price : this.targetPrice,\n        \"stopLoss\": this.currentPage == 'basket' ? this.currentOrder.stoploss : this.stopLossPrice,\n        \"trailing_stop_loss\": this.currentPage == 'basket' ? this.currentOrder.trailing_stoploss : this.trailStopLossPrice\n      }\n      \n      !isNaN(this.price) && !isNaN(this.quantity) && !isNaN(this.triggerPrice) ? this.$store.dispatch('orderWindow/getMarginAvailable', json) : ''\n    }\n  },\n\n  watch: {\n    priceType: function (val) {\n      this.$store.commit('orderWindow/changeOrderType', this.getOrderTabValue())\n      if (\n        (this.currentPage == \"mkWatch\" || this.currentPage == \"orders\" || this.currentPage == \"analytics\") &&\n        this.modifyOrder == false\n      ) {\n        localStorage.setItem(\n          \"orderPreference\",\n          JSON.stringify({\n            product: this.prodType,\n            validity: this.validityType,\n            variety: this.getOrderTabValue(this.orderType),\n            orderType: this.priceType,\n          })\n        );\n      }\n      if (val == 'L') {\n        this.price ? this.priceValidation() : ''\n      }\n      if (val == 'SL') {\n        this.price ? this.priceValidation() : ''\n        this.triggerPrice ? this.triggerPriceValiation() : ''\n      }\n      if (val == 'SL-M') {\n        this.triggerPrice ? this.triggerPriceValiation() : ''\n      }\n    },\n\n    prodType: function (val) {\n      if (\n        (this.currentPage == \"mkWatch\" || this.currentPage == \"orders\" || this.currentPage == \"analytics\") &&\n        this.modifyOrder == false\n      ) {\n        localStorage.setItem(\n          \"orderPreference\",\n          JSON.stringify({\n            product: this.prodType,\n            validity: this.validityType,\n            variety: this.getOrderTabValue(this.orderTab),\n            orderType: this.priceType,\n          })\n        );\n      }\n    },\n\n    orderTab: function (val) {\n      if (\n        (this.currentPage == \"mkWatch\" || this.currentPage == \"orders\" || this.currentPage == \"analytics\") &&\n        this.modifyOrder == false\n      ) {\n        localStorage.setItem(\n          \"orderPreference\",\n          JSON.stringify({\n            product: this.prodType,\n            validity: this.validityType,\n            variety: this.getOrderTabValue(this.orderTab),\n            orderType: this.priceType,\n          })\n        );\n      }\n    },\n\n    validityType: function (val) {\n      if (\n        (this.currentPage == \"mkWatch\" || this.currentPage == \"orders\" || this.currentPage == \"analytics\") &&\n        this.modifyOrder == false\n      ) {\n        localStorage.setItem(\n          \"orderPreference\",\n          JSON.stringify({\n            product: this.prodType,\n            validity: this.validityType,\n            variety: this.getOrderTabValue(this.orderTab),\n            orderType: this.priceType,\n          })\n        );\n      }\n    },\n\n    targetPrice: function (val) {\n      this.checkMarginAvailable();\n    },\n    stopLossPrice: function (val) {\n      this.checkMarginAvailable();\n    },\n    trailStopLossPrice: function (val) {\n      this.checkMarginAvailable();\n    }\n  },\n\n  created () {\n    if (localStorage.getItem(\"orderPreference\") == null || localStorage.getItem(\"orderPreference\") == undefined) {\n      localStorage.setItem(\n        \"orderPreference\",\n        JSON.stringify({\n          product: this.prodType,\n          validity: this.validityType,\n          variety: this.getOrderTabValue(this.orderTab),\n          orderType: this.priceType,\n        })\n      );\n    }\n  },\n};"]}]}