{"remainingRequest":"/home/stoneage/vueJs projects/aliceblueTradevuex/node_modules/babel-loader/lib/index.js!/home/stoneage/vueJs projects/aliceblueTradevuex/src/mixins/orderWindow.js","dependencies":[{"path":"/home/stoneage/vueJs projects/aliceblueTradevuex/src/mixins/orderWindow.js","mtime":1655278611881},{"path":"/home/stoneage/vueJs projects/aliceblueTradevuex/babel.config.js","mtime":1649344700943},{"path":"/home/stoneage/vueJs projects/aliceblueTradevuex/node_modules/cache-loader/dist/cjs.js","mtime":1655272566310},{"path":"/home/stoneage/vueJs projects/aliceblueTradevuex/node_modules/babel-loader/lib/index.js","mtime":1655272566942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3N0b25lYWdlL3Z1ZUpzIHByb2plY3RzL2FsaWNlYmx1ZVRyYWRldnVleC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3N0b25lYWdlL3Z1ZUpzIHByb2plY3RzL2FsaWNlYmx1ZVRyYWRldnVleC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50ZXN0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtZmxvYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UtYWxsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wYXJzZS1pbnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcFN0YXRlLCBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCBlcnJvckhhbmRsaW5nIGZyb20gJy4uL3N0b3JlL1NlcnZpY2VzL2Vycm9ySGFuZGxpbmcnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5zZUtleTogIjEyMy40NSIsCiAgICAgIHRleHQ6ICJjZW50ZXIiLAogICAgICBwcmljZUl0ZW1zOiBbIkwiLCAiTUtUIiwgIlNMIiwgIlNMLU0iXSwKICAgICAgcHJvZHVjdEl0ZW1zOiBbIk1JUyIsICJOUk1MIl0sCiAgICAgIC8vIHNob3dWYWxpZGl0eUl0ZW1zOiBbJ0RBWScsICdJT0MnXSwKICAgICAgLy8gdmFsaWRpdHlUeXBlOiAiIiwKICAgICAgc2hvd01vcmU6IGZhbHNlLAogICAgICBjb3Zlck9yQnJhY2tldFZhbGlkaXR5SXRlbXM6IFsiREFZIl0sCiAgICAgIGNvdmVyT3JCcmFja2V0UHJvZHVjdEl0ZW1zOiBbIk1JUyJdLAogICAgICB0YXJnZXRQcmljZTogMCwKICAgICAgc3RvcExvc3NQcmljZTogMCwKICAgICAgdHJhaWxTdG9wTG9zc1ByaWNlOiAwLAogICAgICAvLyBkaXNjbG9zZWRRdWFudGl0eTogMCwKICAgICAgLy9pbnB1dCBmaWVsZCBoaWRlIHNob3cKICAgICAgY3VycmVudE9yZGVyVGFiOiAicmVndWxhciIsCiAgICAgIGVycm9yTXNnOiAiIiwKICAgICAgaXNGb3JtU3VibWl0OiBmYWxzZQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIGRyYWdnYWJsZTogZnVuY3Rpb24gZHJhZ2dhYmxlKCkgewogICAgICByZXR1cm4gaW1wb3J0KAogICAgICAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAiZHJhZ2dhYmxlIiAqLwogICAgICAiLi4vY29tcG9uZW50cy9kcmFnZ2FibGUudnVlIik7CiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSgibWFya2V0V2F0Y2giLCBbIm1hcmtldERlcHRoRGF0YSJdKSksIG1hcFN0YXRlKCJvcmRlcldpbmRvdyIsIFsic2hvd09yZGVyV2luZG93IiwgIm9yZGVyVHlwZSIsICJ0b2dnbGVPcmRlciIsICJwcmljZVJhbmdlRGV0YWlscyIsICJuc2VQcmljZVJhbmdlRGF0YSIsICJic2VQcmljZVJhbmdlRGF0YSIsICJzY3JpcHRRdW90ZURldGFpbHMiLCAiY3VycmVudE9yZGVyIiwgIm1pbmxvdCIsICJsdHAiLCAidGlja1ByaWNlIiwgImN1cnJlbnRPcmRlciIsICJuc2VCc2VUeXBlIiwgImN1cnJlbnRJbnN0cnVtZW50IiwgImN1cnJlbnRFeGNoYW5nZSIsICJjdXJyZW50UGFnZSIsICJtb2RpZnlPcmRlciIsICJsb2FkaW5nIiwgIndpbmRvd0xvYWRpbmciLCAiaXNOZm8iLCAib3JkZXJUeXBlTGlzdCIsICJ2YWxpZGl0eUl0ZW1zIiwgImJyYWNrZXRQcmljZUl0ZW1zIiwgImNvdmVyUHJpY2VJdGVtcyIsICJsb3dlclJhbmdlIiwgInVwcGVyUmFuZ2UiLCAicmVtb3ZlQ3NzIiwgImlzUHJpY2UiLCAiaXNUcmdQcmljZSIsICJpc0Rpc2Nsb3NlZFF0eSIsICJuc2VTd2l0Y2hQcmljZSIsICJic2VTd2l0Y2hQcmljZSJdKSksIG1hcEdldHRlcnMoIm9yZGVyV2luZG93IiwgWyJnZXRQcmljZVR5cGUiLCAiZ2V0UHJvZFR5cGUiLCAiZ2V0T3JkZXJUYWIiLCAiZ2V0VmFsaWRpdHlUeXBlIiwgImdldFRyaWdnZXJQcmljZSIsICJnZXRDdXJyZW50THRwIiwgImdldEF2YWlsYWJsZU1hcmdpbiJdKSksIG1hcEdldHRlcnMoImF1dGh0aWNhdGlvbiIsIFsiZ2V0VXNlcklkIl0pKSwge30sIHsKICAgIHNob3dwcm9kdWN0SXRlbXM6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLm9yZGVyV2luZG93LnNob3dwcm9kdWN0SXRlbXM7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld1ZhbHVlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJvcmRlcldpbmRvdy9zZXRQcm9kdWN0SXRlbXMiLCBuZXdWYWx1ZSk7CiAgICAgIH0KICAgIH0sCiAgICBzaG93UHJpY2VJdGVtczogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUub3JkZXJXaW5kb3cuc2hvd1ByaWNlSXRlbXM7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld1ZhbHVlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJvcmRlcldpbmRvdy9zZXRQcmljZUl0ZW1zIiwgbmV3VmFsdWUpOwogICAgICB9CiAgICB9LAogICAgcXVhbnRpdHk6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLm9yZGVyV2luZG93LnF1YW50aXR5OwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgib3JkZXJXaW5kb3cvc2V0Q3VycmVudFF0eSIsIHZhbHVlKTsKICAgICAgICB0aGlzLmNoZWNrTWFyZ2luQXZhaWxhYmxlKCk7CiAgICAgIH0KICAgIH0sCiAgICBwcmljZTogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5pc1ByaWNlID8gdGhpcy4kc3RvcmUuc3RhdGUub3JkZXJXaW5kb3cucHJpY2UgOiAwOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgib3JkZXJXaW5kb3cvc2V0Q3VycmVudFByaWNlIiwgdmFsdWUpOwogICAgICAgIHRoaXMuY2hlY2tNYXJnaW5BdmFpbGFibGUoKTsKICAgICAgfQogICAgfSwKICAgIHRyaWdnZXJQcmljZTogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5pc1RyZ1ByaWNlID8gdGhpcy4kc3RvcmUuc3RhdGUub3JkZXJXaW5kb3cudHJpZ2dlclByaWNlIDogMDsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldEN1cnJlbnRUcmdQcmljZSIsIHZhbHVlKTsKICAgICAgICB0aGlzLmNoZWNrTWFyZ2luQXZhaWxhYmxlKCk7CiAgICAgIH0KICAgIH0sCiAgICBkaXNjbG9zZWRRdWFudGl0eTogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5pc0Rpc2Nsb3NlZFF0eSA/IHRoaXMuJHN0b3JlLnN0YXRlLm9yZGVyV2luZG93LmRpc2Nsb3NlZFF1YW50aXR5IDogMDsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldERpc2Nsb3NlZFF0eSIsIHZhbHVlKTsKICAgICAgfQogICAgfSwKICAgIG5zZUJzZVJhZGlvU3dpdGNoOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRFeGNoYW5nZTsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgIH0KICAgIH0sCiAgICBidXlTZWxsUmFkaW86IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMub3JkZXJUeXBlID09ICdidXknID8gdHJ1ZSA6IGZhbHNlOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgfQogICAgfSwKICAgIHByaWNlVHlwZTogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRQcmljZVR5cGU7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJvcmRlcldpbmRvdy9zZXRQcmljZVR5cGUiLCB2YWx1ZSk7CiAgICAgICAgdGhpcy5jaGVja01hcmdpbkF2YWlsYWJsZSgpOwogICAgICB9CiAgICB9LAogICAgcHJvZFR5cGU6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJvZFR5cGU7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJvcmRlcldpbmRvdy9zZXRQcm9kVHlwZSIsIHZhbHVlKTsKICAgICAgICB0aGlzLmNoZWNrTWFyZ2luQXZhaWxhYmxlKCk7CiAgICAgIH0KICAgIH0sCiAgICBvcmRlclRhYjogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRPcmRlclRhYjsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldE9yZGVyVGFiIiwgdmFsdWUpOyAvLyB0aGlzLmNoZWNrTWFyZ2luQXZhaWxhYmxlKCk7CiAgICAgIH0KICAgIH0sCiAgICB2YWxpZGl0eVR5cGU6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsaWRpdHlUeXBlOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgib3JkZXJXaW5kb3cvc2V0VmFsaWRpdHlUeXBlIiwgdmFsdWUpOwogICAgICB9CiAgICB9LAogICAgc2hvd1ZhbGlkaXR5SXRlbXM6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRpdHlJdGVtczsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldFZhbGlkaXR5SXRlbXMiLCB2YWx1ZSk7CiAgICAgIH0KICAgIH0KICB9KSwKICBtZXRob2RzOiB7CiAgICAvLyBjaGFuZ2UgdGFiIGhpZGUgc2hvdyBmdW5jdGlvbgogICAgY2hhbmdlT3JkZXJUYWI6IGZ1bmN0aW9uIGNoYW5nZU9yZGVyVGFiKCkgewogICAgICB0aGlzLmVycm9yTXNnID0gIiI7CgogICAgICBpZiAodGhpcy5vcmRlclR5cGVMaXN0W3RoaXMub3JkZXJUYWJdID09ICdDb3ZlcicpIHsKICAgICAgICB0aGlzLnNob3dwcm9kdWN0SXRlbXMgPSB0aGlzLmNvdmVyT3JCcmFja2V0UHJvZHVjdEl0ZW1zOwogICAgICAgIHRoaXMuc2hvd1ByaWNlSXRlbXMgPSB0aGlzLmNvdmVyUHJpY2VJdGVtczsgLy8gdGhpcy5zaG93VmFsaWRpdHlJdGVtcyA9IHRoaXMuY292ZXJPckJyYWNrZXRWYWxpZGl0eUl0ZW1zOwoKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldFZhbGlkaXR5SXRlbXMiLCB0aGlzLmNvdmVyT3JCcmFja2V0VmFsaWRpdHlJdGVtcyk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5vcmRlclR5cGVMaXN0W3RoaXMub3JkZXJUYWJdID09ICdCcmFja2V0JykgewogICAgICAgIHRoaXMuc2hvd3Byb2R1Y3RJdGVtcyA9IHRoaXMuY292ZXJPckJyYWNrZXRQcm9kdWN0SXRlbXM7CiAgICAgICAgdGhpcy5zaG93UHJpY2VJdGVtcyA9IHRoaXMuYnJhY2tldFByaWNlSXRlbXM7IC8vIHRoaXMuc2hvd1ZhbGlkaXR5SXRlbXMgPSB0aGlzLmNvdmVyT3JCcmFja2V0VmFsaWRpdHlJdGVtczsKCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJvcmRlcldpbmRvdy9zZXRWYWxpZGl0eUl0ZW1zIiwgdGhpcy5jb3Zlck9yQnJhY2tldFZhbGlkaXR5SXRlbXMpOwogICAgICB9IGVsc2UgaWYgKHRoaXMub3JkZXJUeXBlTGlzdFt0aGlzLm9yZGVyVGFiXSA9PSAnQU1PJykgewogICAgICAgIHRoaXMuc2hvd3Byb2R1Y3RJdGVtcyA9IHRoaXMuY292ZXJPckJyYWNrZXRQcm9kdWN0SXRlbXM7CiAgICAgICAgdGhpcy5zaG93UHJpY2VJdGVtcyA9IFsiTCJdOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgib3JkZXJXaW5kb3cvc2V0VmFsaWRpdHlJdGVtcyIsIHRoaXMuY292ZXJPckJyYWNrZXRWYWxpZGl0eUl0ZW1zKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLm9yZGVyVHlwZUxpc3RbdGhpcy5vcmRlclRhYl0pIHsKICAgICAgICB0aGlzLnNob3dQcmljZUl0ZW1zID0gdGhpcy5pc05mbyA/IHRoaXMuJHN0b3JlLnN0YXRlLm9yZGVyV2luZG93LmFsbFByaWNlSXRlbXMgOiB0aGlzLiRzdG9yZS5zdGF0ZS5vcmRlcldpbmRvdy5wb3N0aW9uUHJpY2VJdGVtczsKICAgICAgICB0aGlzLnNob3dwcm9kdWN0SXRlbXMgPSB0aGlzLmN1cnJlbnRFeGNoYW5nZSA9PSAiTlNFIiB8fCB0aGlzLmN1cnJlbnRFeGNoYW5nZSA9PSAiQlNFIiA/IHRoaXMuJHN0b3JlLnN0YXRlLm9yZGVyV2luZG93LmVxUHJvZHVjdEl0ZW1zIDogdGhpcy4kc3RvcmUuc3RhdGUub3JkZXJXaW5kb3cuYWxsUHJvZHVjdEl0ZW1zOyAvLyB0aGlzLnNob3dWYWxpZGl0eUl0ZW1zID0gdGhpcy52YWxpZGl0eUl0ZW1zOwoKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldFZhbGlkaXR5SXRlbXMiLCBbJ0RBWScsICdJT0MnXSk7CiAgICAgIH0KCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnb3JkZXJXaW5kb3cvY2hhbmdlT3JkZXJUeXBlJywgdGhpcy5nZXRPcmRlclRhYlZhbHVlKCkpOwogICAgICB0aGlzLmNoZWNrTWFyZ2luQXZhaWxhYmxlKCk7CiAgICB9LAogICAgLy8gZmluZCBzZWxlY3Qgb3JkZXIgdHlwZSBsaWtlIHJlZ3VsYXIgT3IgYW1vCiAgICBzZWxlY3RlZEluZGV4OiBmdW5jdGlvbiBzZWxlY3RlZEluZGV4KHNlbGVjdGVkT3JkZXIpIHsKICAgICAgdGhpcy5jdXJyZW50T3JkZXJUYWIgPSBzZWxlY3RlZE9yZGVyLnRvTG93ZXJDYXNlKCk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnb3JkZXJXaW5kb3cvY2hhbmdlT3JkZXJUeXBlJywgdGhpcy5nZXRPcmRlclRhYlZhbHVlKCkpOwogICAgfSwKICAgIC8vVG9nZ2xlIG9yZGVyV2luZG93CiAgICB0b2dnbGVPcmRlcldpbmRvdzogZnVuY3Rpb24gdG9nZ2xlT3JkZXJXaW5kb3coKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBvcmRlcjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBvcmRlciA9IF90aGlzLm9yZGVyVHlwZSA9PSAiYnV5IiA/ICJzZWxsIiA6ICJidXkiOwoKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldE9yZGVyVHlwZSIsIG9yZGVyKTsKCiAgICAgICAgICAgICAgICBfdGhpcy5jaGVja01hcmdpbkF2YWlsYWJsZSgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy9jYWxsIG9yZGVyV2luZG93CiAgICBoaWRlT3JkZXJXaW5kb3c6IGZ1bmN0aW9uIGhpZGVPcmRlcldpbmRvdygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgIV90aGlzMi5tb2RpZnlPcmRlciA/IF90aGlzMi4kc3RvcmUuY29tbWl0KCJvcmRlcldpbmRvdy9zZXRPcmRlcldpbmRvdyIsIGZhbHNlKSA6IF90aGlzMi4kc3RvcmUuY29tbWl0KCJvcmRlcldpbmRvdy9zZXRPcmRlcldpbmRvd01vZGlmeSIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8gb3JkZXIgcGxhY2UKICAgIHBsYWNlT3JkZXI6IGZ1bmN0aW9uIHBsYWNlT3JkZXIoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGpzb24sIHF0eUlucHV0Qm94LCBwcmljZUlucHV0Qm94LCB0cmdQcmljZUlucHV0Qm94LCB0YXJnZXRQcmljZUlucHV0Qm94LCBzdG9wTG9zc1ByaWNlSW5wdXRCb3gsIHRyYWlsU3RvcExvc3NQcmljZUlucHV0Qm94LCBkaXNjUXR5SW5wdXRCb3g7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMy5pc0Zvcm1TdWJtaXQgPSB0cnVlOwogICAgICAgICAgICAgICAganNvbiA9IHsKICAgICAgICAgICAgICAgICAgcXR5OiBfdGhpczMucXVhbnRpdHksCiAgICAgICAgICAgICAgICAgIGNvbXBsZXhpdHk6IF90aGlzMy5nZXRPcmRlclRhYlZhbHVlKF90aGlzMy5vcmRlcnRhYiksCiAgICAgICAgICAgICAgICAgIHBjb2RlOiBfdGhpczMucHJvZFR5cGUudG9Mb3dlckNhc2UoKSwKICAgICAgICAgICAgICAgICAgcHJpY2VUeXBlOiBfdGhpczMucHJpY2VUeXBlLAogICAgICAgICAgICAgICAgICBwcmljZTogX3RoaXMzLnByaWNlLAogICAgICAgICAgICAgICAgICB0cmdQcmljZTogX3RoaXMzLnRyaWdnZXJQcmljZSwKICAgICAgICAgICAgICAgICAgc3RvcExvc3M6IF90aGlzMy5zdG9wTG9zc1ByaWNlLAogICAgICAgICAgICAgICAgICB0cmFpbFN0b3BMb3NzOiBfdGhpczMudHJhaWxTdG9wTG9zc1ByaWNlLAogICAgICAgICAgICAgICAgICBkaXNjUXR5OiBfdGhpczMuZGlzY2xvc2VkUXVhbnRpdHksCiAgICAgICAgICAgICAgICAgIHZhbGlkaXR5OiBfdGhpczMudmFsaWRpdHlUeXBlCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgcXR5SW5wdXRCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjcXR5Iik7CiAgICAgICAgICAgICAgICBwcmljZUlucHV0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3ByaWNlIik7CiAgICAgICAgICAgICAgICB0cmdQcmljZUlucHV0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3RyaWdnZXJQcmljZSIpOwogICAgICAgICAgICAgICAgdGFyZ2V0UHJpY2VJbnB1dEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN0cmlnZ2VyUHJpY2UiKTsKICAgICAgICAgICAgICAgIHN0b3BMb3NzUHJpY2VJbnB1dEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzdG9wTG9zc1ByaWNlIik7CiAgICAgICAgICAgICAgICB0cmFpbFN0b3BMb3NzUHJpY2VJbnB1dEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN0cmFpbFN0b3BMb3NzUHJpY2UiKTsKICAgICAgICAgICAgICAgIGRpc2NRdHlJbnB1dEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNkaXNjUXR5Iik7CgogICAgICAgICAgICAgICAgX3RoaXMzLnF1YW50aXR5VmFsaWRhdGlvbigpOwoKICAgICAgICAgICAgICAgIF90aGlzMy5wcmljZVZhbGlkYXRpb24oKTsKCiAgICAgICAgICAgICAgICBfdGhpczMudHJpZ2dlclByaWNlVmFsaWF0aW9uKCk7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMy5vcmRlclR5cGVMaXN0W190aGlzMy5vcmRlclRhYl0gPT09ICdCcmFja2V0JykgewogICAgICAgICAgICAgICAgICBfdGhpczMudGFyZ2V0UHJpY2VWYWxpZGF0aW9uKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczMuc3RvcExvc3NQcmljZVZhbGlkYXRpb24oKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMy50cmFpbFByaWNlVmFsaWRhdGlvbigpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpczMuc2hvd01vcmUpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmRpc2NRdHlWYWxpZGF0aW9uKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMzLm9yZGVyVHlwZUxpc3RbX3RoaXMzLm9yZGVyVGFiXSA9PSAnQnJhY2tldCcgPyB0YXJnZXRQcmljZUlucHV0Qm94LmNoZWNrVmFsaWRpdHkoKSAmJiBzdG9wTG9zc1ByaWNlSW5wdXRCb3guY2hlY2tWYWxpZGl0eSgpICYmIHRyYWlsU3RvcExvc3NQcmljZUlucHV0Qm94LmNoZWNrVmFsaWRpdHkoKSA6IHRydWUgJiYgcXR5SW5wdXRCb3guY2hlY2tWYWxpZGl0eSgpICYmIF90aGlzMy5pc1ByaWNlID8gcHJpY2VJbnB1dEJveC5jaGVja1ZhbGlkaXR5KCkgOiB0cnVlICYmIF90aGlzMy5pc1RyZ1ByaWNlID8gdHJnUHJpY2VJbnB1dEJveC5jaGVja1ZhbGlkaXR5KCkgOiB0cnVlICYmIF90aGlzMy5zaG93TW9yZSA/IGRpc2NRdHlJbnB1dEJveC5jaGVja1ZhbGlkaXR5KCkgOiB0cnVlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczMuaGlkZU9yZGVyV2luZG93KCk7CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczMubW9kaWZ5T3JkZXIpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJHN0b3JlLmRpc3BhdGNoKCJvcmRlcldpbmRvdy9tb2RpZnlPcmRlciIsIGpzb24pOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJHN0b3JlLmRpc3BhdGNoKCJvcmRlcldpbmRvdy9wbGFjZU9yZGVyIiwganNvbik7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICBfdGhpczMuaXNGb3JtU3VibWl0ID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjaGVja1F1YW50aXR5OiBmdW5jdGlvbiBjaGVja1F1YW50aXR5KGV2ZW50KSB7CiAgICAgIGlmIChldmVudC5rZXlDb2RlICE9IDEzKSB7CiAgICAgICAgdGhpcy5zaG93RXJyb3IgPSB0cnVlOwogICAgICAgIHZhciBpbnAgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGV2ZW50LmtleUNvZGUpOwoKICAgICAgICBpZiAoL1swLTldLy50ZXN0KGlucCkpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGRlY2ltYWxBbGxvd2VkOiBmdW5jdGlvbiBkZWNpbWFsQWxsb3dlZChldmVudCkgewogICAgICBpZiAoZXZlbnQua2V5Q29kZSAhPSAxMykgewogICAgICAgIHRoaXMuc2hvd0Vycm9yID0gdHJ1ZTsKICAgICAgICB2YXIgaW5wID0gU3RyaW5nLmZyb21DaGFyQ29kZShldmVudC5rZXlDb2RlKTsKCiAgICAgICAgaWYgKC9bMC05Ll0vLnRlc3QoaW5wKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8gcXVhbnRpdHkgdmFsaWRhdGlvbgogICAgcXVhbnRpdHlWYWxpZGF0aW9uOiBmdW5jdGlvbiBxdWFudGl0eVZhbGlkYXRpb24oKSB7CiAgICAgIHZhciBxdHlWYWwgPSBwYXJzZUZsb2F0KHRoaXMucXVhbnRpdHkpOwogICAgICB2YXIgcXR5TG90ID0gdGhpcy5mbG9hdFNhZmVSZW1haW5kZXIocXR5VmFsLCB0aGlzLm1pbmxvdCk7CiAgICAgIHZhciBxdHlJbnB1dEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNxdHkiKTsKCiAgICAgIGlmICh0aGlzLnF1YW50aXR5LnRvU3RyaW5nKCkgPT0gIiIpIHsKICAgICAgICByZXR1cm4gcXR5SW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoIlF1YW50aXR5IGNhbm5vdCBub3QgYmUgZW1wdHkiKTsKICAgICAgfSBlbHNlIGlmIChxdHlWYWwgPT0gMCkgewogICAgICAgIHJldHVybiBxdHlJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgiUXVhbnRpdHkgY2Fubm90IGJlIHplcm8iKTsKICAgICAgfSBlbHNlIGlmIChxdHlMb3QgIT0gMCAmJiB0aGlzLm1pbmxvdCA+IDApIHsKICAgICAgICByZXR1cm4gcXR5SW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoIlF1YW50aXR5IHNob3VsZCBiZSBtdWx0aXBsZSBvZiBsb3Qgc2l6ZS4gKCIgKyB0aGlzLm1pbmxvdCArICIpIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcXR5SW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoJycpOwogICAgICB9CiAgICB9LAogICAgLy8gcHJpY2UgdmFsaWRhdGlvbgogICAgcHJpY2VWYWxpZGF0aW9uOiBmdW5jdGlvbiBwcmljZVZhbGlkYXRpb24oKSB7CiAgICAgIHZhciBwcmljZUlucHV0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3ByaWNlIik7CiAgICAgIHZhciBwcmljZVZhbCA9IHBhcnNlRmxvYXQodGhpcy5wcmljZSk7CiAgICAgIHZhciBsb3dlclJhbmdlVmFsID0gcGFyc2VGbG9hdCh0aGlzLmxvd2VyUmFuZ2UpOwogICAgICB2YXIgdXBwZXJSYW5nZVZhbCA9IHBhcnNlRmxvYXQodGhpcy51cHBlclJhbmdlKTsKICAgICAgdmFyIGNoZWNrRHByVmFsID0gdGhpcy5jaGVja0RwcihwcmljZVZhbCwgdXBwZXJSYW5nZVZhbCwgbG93ZXJSYW5nZVZhbCk7CiAgICAgIHZhciBwcmljZVRpY2sgPSB0aGlzLmZsb2F0U2FmZVJlbWFpbmRlcihwcmljZVZhbCwgdGhpcy50aWNrUHJpY2UpOwoKICAgICAgaWYgKHRoaXMucHJpY2UudG9TdHJpbmcoKSA9PSAiIikgewogICAgICAgIHByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoJ1ByaWNlIGNhbm5vdCBiZSBFbXB0eScpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmIChwcmljZVZhbCA9PSAwKSB7CiAgICAgICAgcHJpY2VJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgiUHJpY2UgY2Fubm90IGJlIHplcm8iKTsKICAgICAgICB0aGlzLmlzRm9ybVN1Ym1pdCA/IHByaWNlSW5wdXRCb3gucmVwb3J0VmFsaWRpdHkoKSA6ICcnOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmIChwcmljZVRpY2sgIT0gMCkgewogICAgICAgIHByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoIlByaWNlIFNob3VsZCBiZSBtdWx0aXBsZSBvZiBUaWNrIHNpemUgIi5jb25jYXQodGhpcy50aWNrUHJpY2UpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAoIWNoZWNrRHByVmFsICYmIHRoaXMubHRwICE9IDAgJiYgTnVtYmVyKHRoaXMubHRwKSA+PSBsb3dlclJhbmdlVmFsICYmIE51bWJlcih0aGlzLmx0cCkgPD0gdXBwZXJSYW5nZVZhbCAmJiB0aGlzLnByaWNlVHlwZSAhPSAibWFya2V0IiAmJiB0aGlzLnByaWNlVHlwZSAhPSAic2wtbSIpIHsKICAgICAgICBwcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCJQcmljZSBTaG91bGQgYmUgd2l0aGluIHRoZSBEUFIgcmFuZ2UiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcHJpY2VJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7CiAgICAgIH0KICAgIH0sCiAgICAvLyBzdG9wbG9zcyBwcmljZSB2YWxpZGF0aW9uCiAgICB0cmlnZ2VyUHJpY2VWYWxpYXRpb246IGZ1bmN0aW9uIHRyaWdnZXJQcmljZVZhbGlhdGlvbigpIHsKICAgICAgdmFyIHRyZ1ByaWNlSW5wdXRCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdHJpZ2dlclByaWNlIik7CiAgICAgIHZhciB0cmlnUHJpY2VWYWwgPSBwYXJzZUZsb2F0KHRoaXMudHJpZ2dlclByaWNlKTsKICAgICAgdmFyIHRyaWdUaWNrID0gdGhpcy5mbG9hdFNhZmVSZW1haW5kZXIodHJpZ1ByaWNlVmFsLCB0aGlzLnRpY2tQcmljZSk7CgogICAgICBpZiAodGhpcy50cmlnZ2VyUHJpY2UudG9TdHJpbmcoKSA9PSAiIikgewogICAgICAgIHRyZ1ByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoJ1RyaWdnZXIgUHJpY2UgY2Fubm90IGJlIEVtcHR5Jyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHRyaWdQcmljZVZhbCA9PSAwKSB7CiAgICAgICAgdHJnUHJpY2VJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgnVHJpZ2dlciBQcmljZSBjYW5ub3QgYmUgemVybycpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0cmlnVGljayAhPSAwKSB7CiAgICAgICAgdHJnUHJpY2VJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgiVHJpZ2dlciBQcmljZSBTaG91bGQgYmUgbXVsdGlwbGUgb2YgVGlja3MgIi5jb25jYXQodGhpcy50aWNrUHJpY2UpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdHJnUHJpY2VJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7CiAgICAgIH0KICAgIH0sCiAgICAvL3RhcmdldFByaWNlIGJhc2VkIG9uIEV4Y2hhbmdlCiAgICB0YXJnZXRQcmljZVZhbGlkYXRpb246IGZ1bmN0aW9uIHRhcmdldFByaWNlVmFsaWRhdGlvbigpIHsKICAgICAgdmFyIHRhcmdldFByaWNlSW5wdXRCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdGFyZ2V0UHJpY2UiKTsKICAgICAgdmFyIHZhbHVlID0gcGFyc2VGbG9hdCh0aGlzLnRhcmdldFByaWNlKTsKICAgICAgdmFyIHRhcmdldFRpY2sgPSB0aGlzLmZsb2F0U2FmZVJlbWFpbmRlcih2YWx1ZSwgdGhpcy50aWNrUHJpY2UpOwoKICAgICAgaWYgKHRoaXMudGFyZ2V0UHJpY2UudG9TdHJpbmcoKSA9PSAiIikgewogICAgICAgIHRhcmdldFByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoJ1RhcmdldCBQcmljZSBDYW5ub3QgYmUgRW1wdHknKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gMCkgewogICAgICAgIHRhcmdldFByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoJ1RhcmdldCBQcmljZSBzaG91bGQgYmUgZ3JlYXRlciB0aGFuIDAnKTsKICAgICAgICB0aGlzLmlzRm9ybVN1Ym1pdCA/IHRhcmdldFByaWNlSW5wdXRCb3gucmVwb3J0VmFsaWRpdHkoKSA6ICcnOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0YXJnZXRUaWNrICE9IDApIHsKICAgICAgICB0YXJnZXRQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCJUYXJnZXQgUHJpY2Ugc2hvdWxkIGJlIG11bHRpcGxlIG9mIFwiICsgIi5jb25jYXQodGhpcy50aWNrUHJpY2UpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGFyZ2V0UHJpY2VJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9LAogICAgLy9zdG9wTG9zc1ByaWNlIGJhc2VkIG9uIEV4Y2hhbmdlCiAgICBzdG9wTG9zc1ByaWNlVmFsaWRhdGlvbjogZnVuY3Rpb24gc3RvcExvc3NQcmljZVZhbGlkYXRpb24oKSB7CiAgICAgIHZhciBzdG9wTG9zc1ByaWNlSW5wdXRCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3RvcExvc3NQcmljZSIpOwogICAgICB2YXIgdmFsdWUgPSBwYXJzZUZsb2F0KHRoaXMuc3RvcExvc3NQcmljZSk7CiAgICAgIHZhciBzbFRpY2sgPSB0aGlzLmZsb2F0U2FmZVJlbWFpbmRlcih2YWx1ZSwgdGhpcy50aWNrUHJpY2UpOwoKICAgICAgaWYgKHRoaXMuc3RvcExvc3NQcmljZS50b1N0cmluZygpID09ICIiKSB7CiAgICAgICAgc3RvcExvc3NQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCdTdG9wbG9zcyBQcmljZSBDYW5ub3QgYmUgRW1wdHknKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPD0gMCkgewogICAgICAgIHN0b3BMb3NzUHJpY2VJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgnU3RvcGxvc3MgUHJpY2UgQ2Fubm90IGJlIGxlc3MgdGhlbiAwJyk7CiAgICAgICAgdGhpcy5pc0Zvcm1TdWJtaXQgPyBzdG9wTG9zc1ByaWNlSW5wdXRCb3gucmVwb3J0VmFsaWRpdHkoKSA6ICcnOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmIChzbFRpY2sgIT0gMCAmJiBzbFRpY2sgIT0gIjAiKSB7CiAgICAgICAgc3RvcExvc3NQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCJTdG9wbG9zcyBQcmljZSBTaG91bGQgYmUgbXVsdGlwbGUgb2YgXCIgKyAiLmNvbmNhdCh0aGlzLnRpY2tQcmljZSkpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gc3RvcExvc3NQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCcnKTsKICAgICAgfQogICAgfSwKICAgIC8vdHJhaWxQcmljZSBiYXNlZCBvbiBFeGNoYW5nZQogICAgdHJhaWxQcmljZVZhbGlkYXRpb246IGZ1bmN0aW9uIHRyYWlsUHJpY2VWYWxpZGF0aW9uKCkgewogICAgICB2YXIgdHJhaWxTdG9wTG9zc1ByaWNlSW5wdXRCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdHJhaWxTdG9wTG9zc1ByaWNlIik7CiAgICAgIHZhciB2YWx1ZSA9IHBhcnNlRmxvYXQodGhpcy50cmFpbFN0b3BMb3NzUHJpY2UpOwogICAgICB2YXIgdHJhaWxUaWNrID0gdGhpcy5mbG9hdFNhZmVSZW1haW5kZXIodGhpcy50cmFpbFN0b3BMb3NzUHJpY2UsIHRoaXMudGlja1ByaWNlKTsKICAgICAgdmFyIHRhcmdldFZhbCA9IHBhcnNlRmxvYXQodGhpcy50YXJnZXRQcmljZSk7CgogICAgICBpZiAodGhpcy50cmFpbFN0b3BMb3NzUHJpY2UudG9TdHJpbmcoKSA9PSAiIikgewogICAgICAgIHRyYWlsU3RvcExvc3NQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCdUcmFpbFN0b3Bsb3NzIFByaWNlIENhbm5vdCBiZSBFbXB0eScpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh0cmFpbFRpY2sgIT0gMCkgewogICAgICAgIHRyYWlsU3RvcExvc3NQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCJUcmFpbFN0b3Bsb3NzIFNob3VsZCBiZSBtdWx0aXBsZSBvZiBcIiArICgiLmNvbmNhdCh0aGlzLnRpY2tQcmljZSwgIikiKSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHRoaXMucHJpY2VUeXBlID09ICJMIiAmJiB2YWx1ZSA8IHRoaXMudGlja1ByaWNlICYmIHZhbHVlICE9IDApIHsKICAgICAgICB0cmFpbFN0b3BMb3NzUHJpY2VJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgiVHJhaWxpbmcgU3RvcGxvc3Mgc2hvdWxkIGJlIG1pbmltdW0gb2YgVGlja1ByaWNlIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHRhcmdldFZhbCA8IHZhbHVlICYmIHZhbHVlICE9IDApIHsKICAgICAgICB0cmFpbFN0b3BMb3NzUHJpY2VJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgiVHJhaWxTdG9wbG9zcyBTaG91bGQgYmUgTGVzcyB0aGFuIFwiICsgKCIuY29uY2F0KHRhcmdldFZhbCwgIikiKSk7CiAgICAgICAgdGhpcy5pc0Zvcm1TdWJtaXQgPyB0cmFpbFN0b3BMb3NzUHJpY2VJbnB1dEJveC5yZXBvcnRWYWxpZGl0eSgpIDogJyc7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIHRyYWlsU3RvcExvc3NQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCcnKTsKICAgICAgfQogICAgfSwKICAgIC8vRGlzY2xvc2VkIHF0eSBiYXNlZCBvbiBFeGNoYW5nZQogICAgZGlzY1F0eVZhbGlkYXRpb246IGZ1bmN0aW9uIGRpc2NRdHlWYWxpZGF0aW9uKCkgewogICAgICB2YXIgZGlzY1F0eUlucHV0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2Rpc2NRdHkiKTsKICAgICAgdmFyIGRpY1BlcmNlbnRhZ2U7CiAgICAgIHZhciBkaXNjbG9zZWRRdHkgPSBwYXJzZUZsb2F0KHRoaXMuZGlzY2xvc2VkUXVhbnRpdHkpOwogICAgICB2YXIgcXR5ID0gcGFyc2VGbG9hdCh0aGlzLmN1cnJlbnRRdHkpOwoKICAgICAgaWYgKHRoaXMuY3VycmVudEV4Y2hhbmdlID09ICJNQ1giKSB7CiAgICAgICAgZGljUGVyY2VudGFnZSA9IDI1IC8gdGhpcy5RdHk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGljUGVyY2VudGFnZSA9IDEwIC8gdGhpcy5RdHk7CiAgICAgIH0KCiAgICAgIHZhciBkaXNDaGVjayA9IHBhcnNlRmxvYXQoZGlzY2xvc2VkUXR5IC8gcXR5KTsKICAgICAgdGhpcy5kaXNjUXR5dGlrID0gTWF0aC5jZWlsKGRpc0NoZWNrKTsKICAgICAgLyoqIERpc2Nsb3NlZCBxdWFudGl0eSAqLwoKICAgICAgaWYgKHRoaXMuY3VycmVudEV4Y2hhbmdlICE9ICJORk8iICYmIHRoaXMuY3VycmVudEV4Y2hhbmdlICE9ICJCRk8iKSB7CiAgICAgICAgaWYgKHRoaXMuZGlzY2xvc2VkUXVhbnRpdHkudG9TdHJpbmcoKSA9PSAiIikgewogICAgICAgICAgZGlzY1F0eUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCdEaXNjLlF0eSBzaG91bGQgbm90IGJlIGVtcHR5Jyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIGlmIChkaXNjbG9zZWRRdHkgPCB0aGlzLmRpc2NRdHl0aWsgJiYgZGlzY2xvc2VkUXR5ICE9IDApIHsKICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRFeGNoYW5nZSA9PSAiTUNYIikgewogICAgICAgICAgICBkaXNjUXR5SW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoJ0Rpc2MuUXR5IHNob3VsZCBiZSBlaXRoZXIgMCBvciAyNSUgdG8gMTAwJSBvZiBxdWFudGl0eScpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudEV4Y2hhbmdlICE9ICJNQ1giKSB7CiAgICAgICAgICAgIGRpc2NRdHlJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgnRGlzYy5RdHkgc2hvdWxkIGJlIGVpdGhlciAwIG9yIDEwJSB0byAxMDAlIG9mIHF1YW50aXR5Jyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRpc2NRdHlJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChkaXNjbG9zZWRRdHkgPiBxdHkpIHsKICAgICAgICAgIGRpc2NRdHlJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgnRGlzYy5RdHkgY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiBRdHknKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZGlzY1F0eUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCcnKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGRpc2NRdHlJbnB1dEJveC5yZXBvcnRWYWxpZGl0eSgpOwogICAgfSwKICAgIC8vRmxvYXQgU2FmZSBSZW1haW5kZXIgb2YgbGFzdCAyIGRpZ2l0cyBvciA0IGRpZ2l0cwogICAgZmxvYXRTYWZlUmVtYWluZGVyOiBmdW5jdGlvbiBmbG9hdFNhZmVSZW1haW5kZXIodmFsLCBzdGVwKSB7CiAgICAgIHZhbCA9IHZhbC50b1N0cmluZygpOwogICAgICBzdGVwID0gc3RlcC50b1N0cmluZygpOwogICAgICB2YXIgdmFsRGVjQ291bnQgPSB2YWwuaW5jbHVkZXMoIi4iKSA/IHZhbC5zcGxpdCgiLiIpWzFdLmxlbmd0aCAhPSBudWxsID8gdmFsLnNwbGl0KCIuIilbMV0ubGVuZ3RoIDogMCA6IHZhbC5sZW5ndGg7CiAgICAgIHZhciBzdGVwRGVjQ291bnQgPSBzdGVwLmluY2x1ZGVzKCIuIikgPyBzdGVwLnNwbGl0KCIuIilbMV0ubGVuZ3RoICE9IG51bGwgPyBzdGVwLnNwbGl0KCIuIilbMV0ubGVuZ3RoIDogMCA6IHN0ZXAubGVuZ3RoOwogICAgICB2YXIgZGVjQ291bnQgPSB2YWxEZWNDb3VudCA+IHN0ZXBEZWNDb3VudCA/IHZhbERlY0NvdW50IDogc3RlcERlY0NvdW50OwogICAgICB2YXIgdmFsSW50ID0gcGFyc2VGbG9hdChwYXJzZUZsb2F0KHZhbCkudG9GaXhlZChkZWNDb3VudCkudG9TdHJpbmcoKS5yZXBsYWNlQWxsKCIuIiwgIiIpKTsKICAgICAgdmFyIHN0ZXBJbnQgPSBwYXJzZUZsb2F0KHBhcnNlRmxvYXQoc3RlcCkudG9GaXhlZChkZWNDb3VudCkudG9TdHJpbmcoKS5yZXBsYWNlQWxsKCIuIiwgIiIpKTsKICAgICAgcmV0dXJuIHZhbEludCAlIHN0ZXBJbnQgLyBNYXRoLnBvdygxMCwgZGVjQ291bnQpOwogICAgfSwKICAgIGdldE9yZGVyVGFiVmFsdWU6IGZ1bmN0aW9uIGdldE9yZGVyVGFiVmFsdWUoKSB7CiAgICAgIHJldHVybiB0aGlzLm9yZGVyVHlwZUxpc3RbdGhpcy5vcmRlclRhYl0gPT0gJ1JlZ3VsYXInID8gInJlZ3VsYXIiIDogdGhpcy5vcmRlclR5cGVMaXN0W3RoaXMub3JkZXJUYWJdID09ICdDb3ZlcicgPyAiY292ZXIiIDogdGhpcy5vcmRlclR5cGVMaXN0W3RoaXMub3JkZXJUYWJdID09ICdCcmFja2V0JyA/ICJicmFja2V0IiA6IHRoaXMub3JkZXJUeXBlTGlzdFt0aGlzLm9yZGVyVGFiXSA9PSAnQU1PJyA/ICJhbW8iIDogInJlZ3VsYXIiOwogICAgfSwKICAgIC8vIGNhcGl0YWxpemUgZmlyc3QgbGV0dGVyCiAgICBjYXBpdGFsaXplRmlyc3RMZXR0ZXI6IGZ1bmN0aW9uIGNhcGl0YWxpemVGaXJzdExldHRlcihzdHJpbmcpIHsKICAgICAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTsKICAgIH0sCiAgICBuc2VCc2VTd2l0Y2g6IGZ1bmN0aW9uIG5zZUJzZVN3aXRjaChleGNoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuJHN0b3JlLmNvbW1pdCgnb3JkZXJXaW5kb3cvbWFrZUFjdGl2ZScsIGV4Y2gpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpczQuY2hlY2tNYXJnaW5BdmFpbGFibGUoKTsKCiAgICAgICAgICAgICAgICBfdGhpczQucHJpY2VWYWxpZGF0aW9uKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoZWNrRHByOiBmdW5jdGlvbiBjaGVja0RwcihwcmljZSwgdWMsIGxjKSB7CiAgICAgIHJldHVybiB1YyAhPT0gMCAmJiBwcmljZSA+PSBsYyAmJiBwcmljZSA8PSB1YzsKICAgIH0sCiAgICAvLyBjaGVjayBtYXJnaW4gYXZhaWxibGUgdmFsdWUKICAgIGNoZWNrTWFyZ2luQXZhaWxhYmxlOiBmdW5jdGlvbiBjaGVja01hcmdpbkF2YWlsYWJsZSgpIHsKICAgICAgdmFyIGpzb24gPSB7CiAgICAgICAgInVzZXJJZCI6IHRoaXMuZ2V0VXNlcklkLAogICAgICAgICJleGNoIjogdGhpcy5jdXJyZW50UGFnZSA9PSAnYmFza2V0JyA/IHRoaXMuY3VycmVudE9yZGVyLmV4Y2hhbmdlIDogdGhpcy5jdXJyZW50RXhjaGFuZ2UsCiAgICAgICAgImV4Y2hTZWciOiB0aGlzLmN1cnJlbnRQYWdlID09ICdiYXNrZXQnID8gdGhpcy5jdXJyZW50T3JkZXIuZXhjaGFuZ2UgOiB0aGlzLmN1cnJlbnRFeGNoYW5nZSwKICAgICAgICAic3ltYm9sIjogdGhpcy5jdXJyZW50UGFnZSA9PSAnYmFza2V0JyA/IHRoaXMuY3VycmVudE9yZGVyLnRva2VuIDogdGhpcy5uc2VCc2VUeXBlID8gdGhpcy5jdXJyZW50RXhjaGFuZ2UgPT0gJ05TRScgPyB0aGlzLm5zZVByaWNlUmFuZ2VEYXRhWzBdLnRva2VuIDogdGhpcy5ic2VQcmljZVJhbmdlRGF0YVswXS50b2tlbiA6IHRoaXMuY3VycmVudFBhZ2UgPT0gJ3Bvc2l0aW9ucycgPyB0aGlzLmN1cnJlbnRPcmRlci5Ub2tlbiA6IHRoaXMuY3VycmVudFBhZ2UgPT0gJ2hvbGRpbmdzJyA/IHRoaXMuY3VycmVudEV4Y2hhbmdlID09ICJOU0UiID8gdGhpcy5jdXJyZW50T3JkZXIuVG9rZW4xIDogdGhpcy5jdXJyZW50T3JkZXIuVG9rZW4yIDogdGhpcy5jdXJyZW50T3JkZXIudG9rZW4sCiAgICAgICAgInBDb2RlIjogdGhpcy5jdXJyZW50UGFnZSA9PSAnYmFza2V0JyA/IHRoaXMuY3VycmVudE9yZGVyLnByb2R1Y3QgOiB0aGlzLnByb2RUeXBlLAogICAgICAgICJwcmljZSI6IHRoaXMuY3VycmVudFBhZ2UgPT0gJ2Jhc2tldCcgPyB0aGlzLmN1cnJlbnRPcmRlci5wcmljZSA6IHRoaXMucHJpY2UudG9TdHJpbmcoKSwKICAgICAgICAicXR5IjogdGhpcy5jdXJyZW50UGFnZSA9PSAnYmFza2V0JyA/IHBhcnNlSW50KHRoaXMuY3VycmVudE9yZGVyLnF1YW50aXR5KSA6IHBhcnNlSW50KHRoaXMucXVhbnRpdHkpLAogICAgICAgICJ0cmFuc3R5cGUiOiB0aGlzLmN1cnJlbnRQYWdlID09ICdiYXNrZXQnID8gdGhpcy5jdXJyZW50T3JkZXIudHJhbnNhY3Rpb25fdHlwZSA6IHRoaXMub3JkZXJUeXBlLAogICAgICAgICJwcmN0eXAiOiB0aGlzLmN1cnJlbnRQYWdlID09ICdiYXNrZXQnID8gdGhpcy5jdXJyZW50T3JkZXIub3JkZXJfdHlwZSA6IHRoaXMucHJpY2VUeXBlLAogICAgICAgICJjb21wbGV4dHkiOiB0aGlzLmdldE9yZGVyVGFiVmFsdWUodGhpcy5vcmRlclRhYiksCiAgICAgICAgInRyaWdQcmljZSI6IHRoaXMuY3VycmVudFBhZ2UgPT0gJ2Jhc2tldCcgPyB0aGlzLmN1cnJlbnRPcmRlci50cmlnZ2VyX3ByaWNlIDogdGhpcy50cmlnZ2VyUHJpY2UsCiAgICAgICAgInRhcmdldCI6IHRoaXMuY3VycmVudFBhZ2UgPT0gJ2Jhc2tldCcgPyB0aGlzLmN1cnJlbnRPcmRlci50YXJnZXRfcHJpY2UgOiB0aGlzLnRhcmdldFByaWNlLAogICAgICAgICJzdG9wTG9zcyI6IHRoaXMuY3VycmVudFBhZ2UgPT0gJ2Jhc2tldCcgPyB0aGlzLmN1cnJlbnRPcmRlci5zdG9wbG9zcyA6IHRoaXMuc3RvcExvc3NQcmljZSwKICAgICAgICAidHJhaWxpbmdfc3RvcF9sb3NzIjogdGhpcy5jdXJyZW50UGFnZSA9PSAnYmFza2V0JyA/IHRoaXMuY3VycmVudE9yZGVyLnRyYWlsaW5nX3N0b3Bsb3NzIDogdGhpcy50cmFpbFN0b3BMb3NzUHJpY2UKICAgICAgfTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ29yZGVyV2luZG93L2dldE1hcmdpbkF2YWlsYWJsZScsIGpzb24pOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHByaWNlVHlwZTogZnVuY3Rpb24gcHJpY2VUeXBlKHZhbCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ29yZGVyV2luZG93L2NoYW5nZU9yZGVyVHlwZScsIHRoaXMuZ2V0T3JkZXJUYWJWYWx1ZSgpKTsKCiAgICAgIGlmICgodGhpcy5jdXJyZW50UGFnZSA9PSAibWtXYXRjaCIgfHwgdGhpcy5jdXJyZW50UGFnZSA9PSAib3JkZXJzIiB8fCB0aGlzLmN1cnJlbnRQYWdlID09ICJhbmFseXRpY3MiKSAmJiB0aGlzLm1vZGlmeU9yZGVyID09IGZhbHNlKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIm9yZGVyUHJlZmVyZW5jZSIsIEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgIHByb2R1Y3Q6IHRoaXMucHJvZFR5cGUsCiAgICAgICAgICB2YWxpZGl0eTogdGhpcy52YWxpZGl0eVR5cGUsCiAgICAgICAgICB2YXJpZXR5OiB0aGlzLmdldE9yZGVyVGFiVmFsdWUodGhpcy5vcmRlclR5cGUpLAogICAgICAgICAgb3JkZXJUeXBlOiB0aGlzLnByaWNlVHlwZQogICAgICAgIH0pKTsKICAgICAgfQoKICAgICAgaWYgKHZhbCA9PSAnTCcpIHsKICAgICAgICB0aGlzLnByaWNlID8gdGhpcy5wcmljZVZhbGlkYXRpb24oKSA6ICcnOwogICAgICB9CgogICAgICBpZiAodmFsID09ICdTTCcpIHsKICAgICAgICB0aGlzLnByaWNlID8gdGhpcy5wcmljZVZhbGlkYXRpb24oKSA6ICcnOwogICAgICAgIHRoaXMudHJpZ2dlclByaWNlID8gdGhpcy50cmlnZ2VyUHJpY2VWYWxpYXRpb24oKSA6ICcnOwogICAgICB9CgogICAgICBpZiAodmFsID09ICdTTC1NJykgewogICAgICAgIHRoaXMudHJpZ2dlclByaWNlID8gdGhpcy50cmlnZ2VyUHJpY2VWYWxpYXRpb24oKSA6ICcnOwogICAgICB9IC8vIHRoaXMuY2hlY2tNYXJnaW5BdmFpbGFibGUoKQoKICAgIH0sCiAgICBwcm9kVHlwZTogZnVuY3Rpb24gcHJvZFR5cGUodmFsKSB7CiAgICAgIGlmICgodGhpcy5jdXJyZW50UGFnZSA9PSAibWtXYXRjaCIgfHwgdGhpcy5jdXJyZW50UGFnZSA9PSAib3JkZXJzIiB8fCB0aGlzLmN1cnJlbnRQYWdlID09ICJhbmFseXRpY3MiKSAmJiB0aGlzLm1vZGlmeU9yZGVyID09IGZhbHNlKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIm9yZGVyUHJlZmVyZW5jZSIsIEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgIHByb2R1Y3Q6IHRoaXMucHJvZFR5cGUsCiAgICAgICAgICB2YWxpZGl0eTogdGhpcy52YWxpZGl0eVR5cGUsCiAgICAgICAgICB2YXJpZXR5OiB0aGlzLmdldE9yZGVyVGFiVmFsdWUodGhpcy5vcmRlclRhYiksCiAgICAgICAgICBvcmRlclR5cGU6IHRoaXMucHJpY2VUeXBlCiAgICAgICAgfSkpOwogICAgICB9IC8vIHRoaXMuY2hlY2tNYXJnaW5BdmFpbGFibGUoKQoKICAgIH0sCiAgICBvcmRlclRhYjogZnVuY3Rpb24gb3JkZXJUYWIodmFsKSB7CiAgICAgIGlmICgodGhpcy5jdXJyZW50UGFnZSA9PSAibWtXYXRjaCIgfHwgdGhpcy5jdXJyZW50UGFnZSA9PSAib3JkZXJzIiB8fCB0aGlzLmN1cnJlbnRQYWdlID09ICJhbmFseXRpY3MiKSAmJiB0aGlzLm1vZGlmeU9yZGVyID09IGZhbHNlKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIm9yZGVyUHJlZmVyZW5jZSIsIEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgIHByb2R1Y3Q6IHRoaXMucHJvZFR5cGUsCiAgICAgICAgICB2YWxpZGl0eTogdGhpcy52YWxpZGl0eVR5cGUsCiAgICAgICAgICB2YXJpZXR5OiB0aGlzLmdldE9yZGVyVGFiVmFsdWUodGhpcy5vcmRlclRhYiksCiAgICAgICAgICBvcmRlclR5cGU6IHRoaXMucHJpY2VUeXBlCiAgICAgICAgfSkpOwogICAgICB9IC8vIHRoaXMuY2hlY2tNYXJnaW5BdmFpbGFibGUoKQoKICAgIH0sCiAgICB2YWxpZGl0eVR5cGU6IGZ1bmN0aW9uIHZhbGlkaXR5VHlwZSh2YWwpIHsKICAgICAgaWYgKCh0aGlzLmN1cnJlbnRQYWdlID09ICJta1dhdGNoIiB8fCB0aGlzLmN1cnJlbnRQYWdlID09ICJvcmRlcnMiIHx8IHRoaXMuY3VycmVudFBhZ2UgPT0gImFuYWx5dGljcyIpICYmIHRoaXMubW9kaWZ5T3JkZXIgPT0gZmFsc2UpIHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgib3JkZXJQcmVmZXJlbmNlIiwgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgcHJvZHVjdDogdGhpcy5wcm9kVHlwZSwKICAgICAgICAgIHZhbGlkaXR5OiB0aGlzLnZhbGlkaXR5VHlwZSwKICAgICAgICAgIHZhcmlldHk6IHRoaXMuZ2V0T3JkZXJUYWJWYWx1ZSh0aGlzLm9yZGVyVGFiKSwKICAgICAgICAgIG9yZGVyVHlwZTogdGhpcy5wcmljZVR5cGUKICAgICAgICB9KSk7CiAgICAgIH0KICAgIH0sCiAgICB0YXJnZXRQcmljZTogZnVuY3Rpb24gdGFyZ2V0UHJpY2UodmFsKSB7CiAgICAgIHRoaXMuY2hlY2tNYXJnaW5BdmFpbGFibGUoKTsKICAgIH0sCiAgICBzdG9wTG9zc1ByaWNlOiBmdW5jdGlvbiBzdG9wTG9zc1ByaWNlKHZhbCkgewogICAgICB0aGlzLmNoZWNrTWFyZ2luQXZhaWxhYmxlKCk7CiAgICB9LAogICAgdHJhaWxTdG9wTG9zc1ByaWNlOiBmdW5jdGlvbiB0cmFpbFN0b3BMb3NzUHJpY2UodmFsKSB7CiAgICAgIHRoaXMuY2hlY2tNYXJnaW5BdmFpbGFibGUoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oIm9yZGVyUHJlZmVyZW5jZSIpID09IG51bGwgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oIm9yZGVyUHJlZmVyZW5jZSIpID09IHVuZGVmaW5lZCkgewogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgib3JkZXJQcmVmZXJlbmNlIiwgSlNPTi5zdHJpbmdpZnkoewogICAgICAgIHByb2R1Y3Q6IHRoaXMucHJvZFR5cGUsCiAgICAgICAgdmFsaWRpdHk6IHRoaXMudmFsaWRpdHlUeXBlLAogICAgICAgIHZhcmlldHk6IHRoaXMuZ2V0T3JkZXJUYWJWYWx1ZSh0aGlzLm9yZGVyVGFiKSwKICAgICAgICBvcmRlclR5cGU6IHRoaXMucHJpY2VUeXBlCiAgICAgIH0pKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/stoneage/vueJs projects/aliceblueTradevuex/src/mixins/orderWindow.js"],"names":["mapActions","mapState","mapGetters","errorHandling","data","nseKey","text","priceItems","productItems","showMore","coverOrBracketValidityItems","coverOrBracketProductItems","targetPrice","stopLossPrice","trailStopLossPrice","currentOrderTab","errorMsg","isFormSubmit","components","draggable","computed","showproductItems","get","$store","state","orderWindow","set","newValue","commit","showPriceItems","quantity","value","checkMarginAvailable","price","isPrice","triggerPrice","isTrgPrice","disclosedQuantity","isDisclosedQty","nseBseRadioSwitch","currentExchange","buySellRadio","orderType","priceType","getPriceType","prodType","getProdType","orderTab","getOrderTab","validityType","getValidityType","showValidityItems","validityItems","methods","changeOrderTab","orderTypeList","coverPriceItems","bracketPriceItems","isNfo","allPriceItems","postionPriceItems","eqProductItems","allProductItems","getOrderTabValue","selectedIndex","selectedOrder","toLowerCase","toggleOrderWindow","order","hideOrderWindow","modifyOrder","placeOrder","json","qty","complexity","ordertab","pcode","trgPrice","stopLoss","trailStopLoss","discQty","validity","qtyInputBox","document","querySelector","priceInputBox","trgPriceInputBox","targetPriceInputBox","stopLossPriceInputBox","trailStopLossPriceInputBox","discQtyInputBox","quantityValidation","priceValidation","triggerPriceValiation","targetPriceValidation","stopLossPriceValidation","trailPriceValidation","discQtyValidation","checkValidity","dispatch","checkQuantity","event","keyCode","showError","inp","String","fromCharCode","test","preventDefault","decimalAllowed","qtyVal","parseFloat","qtyLot","floatSafeRemainder","minlot","toString","setCustomValidity","priceVal","lowerRangeVal","lowerRange","upperRangeVal","upperRange","checkDprVal","checkDpr","priceTick","tickPrice","reportValidity","ltp","Number","trigPriceVal","trigTick","targetTick","slTick","trailTick","targetVal","dicPercentage","disclosedQty","currentQty","Qty","disCheck","discQtytik","Math","ceil","val","step","valDecCount","includes","split","length","stepDecCount","decCount","valInt","toFixed","replaceAll","stepInt","pow","capitalizeFirstLetter","string","charAt","toUpperCase","slice","nseBseSwitch","exch","uc","lc","getUserId","currentPage","currentOrder","exchange","token","nseBseType","nsePriceRangeData","bsePriceRangeData","Token","Token1","Token2","product","parseInt","transaction_type","order_type","trigger_price","target_price","stoploss","trailing_stoploss","watch","localStorage","setItem","JSON","stringify","variety","created","getItem","undefined"],"mappings":"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","sourcesContent":["import { mapActions, mapState, mapGetters } from \"vuex\";\nimport errorHandling from '../store/Services/errorHandling';\nexport default {\n  data () {\n    return {\n      nseKey: \"123.45\",\n      text: \"center\",\n      priceItems: [\"L\", \"MKT\", \"SL\", \"SL-M\"],\n      productItems: [\"MIS\", \"NRML\"],\n      // showValidityItems: ['DAY', 'IOC'],\n      // validityType: \"\",\n      showMore: false,\n      coverOrBracketValidityItems: [\"DAY\"],\n      coverOrBracketProductItems: [\"MIS\"],\n      targetPrice: 0,\n      stopLossPrice: 0,\n      trailStopLossPrice: 0,\n      // disclosedQuantity: 0,\n\n      //input field hide show\n      currentOrderTab: \"regular\",\n      errorMsg: \"\",\n      isFormSubmit: false,\n    };\n  },\n\n  components: {\n    draggable: () =>\n      import(/* webpackChunkName: \"draggable\" */ \"../components/draggable.vue\"),\n  },\n\n  computed: {\n    ...mapState(\"marketWatch\", [\"marketDepthData\"]),\n    ...mapState(\"orderWindow\", [\n      \"showOrderWindow\",\n      \"orderType\",\n      \"toggleOrder\",\n      \"priceRangeDetails\",\n      \"nsePriceRangeData\",\n      \"bsePriceRangeData\",\n      \"scriptQuoteDetails\",\n      \"currentOrder\",\n      \"minlot\",\n      \"ltp\",\n      \"tickPrice\",\n      \"currentOrder\",\n      \"nseBseType\",\n      \"currentInstrument\",\n      \"currentExchange\",\n      \"currentPage\",\n      \"modifyOrder\",\n      \"loading\",\n      \"windowLoading\",\n      \"isNfo\",\n      \"orderTypeList\",\n      \"validityItems\",\n      \"bracketPriceItems\",\n      \"coverPriceItems\",\n      \"lowerRange\",\n      \"upperRange\",\n      \"removeCss\",\n      \"isPrice\",\n      \"isTrgPrice\",\n      \"isDisclosedQty\",\n      \"nseSwitchPrice\",\n      \"bseSwitchPrice\"\n    ]),\n    ...mapGetters(\"orderWindow\", [\n      \"getPriceType\",\n      \"getProdType\",\n      \"getOrderTab\",\n      \"getValidityType\",\n      \"getTriggerPrice\",\n      \"getCurrentLtp\",\n      \"getAvailableMargin\",\n    ]),\n    ...mapGetters(\"authtication\", [\n      \"getUserId\",\n    ]),\n\n    showproductItems: {\n      get () {\n        return this.$store.state.orderWindow.showproductItems;\n      },\n      set (newValue) {\n        this.$store.commit(\"orderWindow/setProductItems\", newValue);\n      },\n    },\n\n    showPriceItems: {\n      get () {\n        return this.$store.state.orderWindow.showPriceItems;\n      },\n      set (newValue) {\n        this.$store.commit(\"orderWindow/setPriceItems\", newValue);\n      },\n    },\n\n    quantity: {\n      get () {\n        return this.$store.state.orderWindow.quantity;\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setCurrentQty\", value);\n        this.checkMarginAvailable();\n      },\n    },\n\n    price: {\n      get () {\n        return this.isPrice ? this.$store.state.orderWindow.price : 0\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setCurrentPrice\", value);\n        this.checkMarginAvailable();\n      },\n    },\n\n    triggerPrice: {\n      get () {\n        return this.isTrgPrice ? this.$store.state.orderWindow.triggerPrice : 0\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setCurrentTrgPrice\", value);\n        this.checkMarginAvailable();\n      },\n    },\n\n    disclosedQuantity: {\n      get () {\n        return this.isDisclosedQty ? this.$store.state.orderWindow.disclosedQuantity : 0\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setDisclosedQty\", value);\n      }\n    },\n\n    nseBseRadioSwitch: {\n      get () {\n        return this.currentExchange;\n      },\n      set (value) {\n        return value;\n      },\n    },\n\n    buySellRadio: {\n      get () {\n        return this.orderType == 'buy' ? true : false\n      },\n      set (value) {\n        return value;\n      }\n    },\n\n    priceType: {\n      get () {\n        return this.getPriceType;\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setPriceType\", value);\n        this.checkMarginAvailable();\n      },\n    },\n\n    prodType: {\n      get () {\n        return this.getProdType;\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setProdType\", value);\n        this.checkMarginAvailable();\n      },\n    },\n\n    orderTab: {\n      get () {\n        return this.getOrderTab;\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setOrderTab\", value);\n        // this.checkMarginAvailable();\n      },\n    },\n\n    validityType: {\n      get () { return this.getValidityType },\n      set (value) {\n        this.$store.commit(\"orderWindow/setValidityType\", value);\n      }\n    },\n\n    showValidityItems: {\n      get () {\n        return this.validityItems;\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setValidityItems\", value);\n      }\n    }\n  },\n\n  methods: {\n    // change tab hide show function\n    changeOrderTab () {\n      this.errorMsg = \"\";\n      if (this.orderTypeList[this.orderTab] == 'Cover') {\n        this.showproductItems = this.coverOrBracketProductItems;\n        this.showPriceItems = this.coverPriceItems;\n        // this.showValidityItems = this.coverOrBracketValidityItems;\n        this.$store.commit(\"orderWindow/setValidityItems\", this.coverOrBracketValidityItems);\n      } else if (this.orderTypeList[this.orderTab] == 'Bracket') {\n        this.showproductItems = this.coverOrBracketProductItems;\n        this.showPriceItems = this.bracketPriceItems;\n        // this.showValidityItems = this.coverOrBracketValidityItems;\n        this.$store.commit(\"orderWindow/setValidityItems\", this.coverOrBracketValidityItems);\n      } else if (this.orderTypeList[this.orderTab] == 'AMO') {\n        this.showproductItems = this.coverOrBracketProductItems;\n        this.showPriceItems = [\"L\"]\n        this.$store.commit(\"orderWindow/setValidityItems\", this.coverOrBracketValidityItems);\n      } else if (this.orderTypeList[this.orderTab]) {\n        this.showPriceItems = this.isNfo\n          ? this.$store.state.orderWindow.allPriceItems\n          : this.$store.state.orderWindow.postionPriceItems;\n        this.showproductItems =\n          this.currentExchange == \"NSE\" || this.currentExchange == \"BSE\"\n            ? this.$store.state.orderWindow.eqProductItems\n            : this.$store.state.orderWindow.allProductItems;\n        // this.showValidityItems = this.validityItems;\n        this.$store.commit(\"orderWindow/setValidityItems\", ['DAY', 'IOC']);\n      }\n      this.$store.commit('orderWindow/changeOrderType', this.getOrderTabValue())\n      this.checkMarginAvailable();\n    },\n\n    // find select order type like regular Or amo\n    selectedIndex (selectedOrder) {\n      this.currentOrderTab = selectedOrder.toLowerCase();\n      this.$store.commit('orderWindow/changeOrderType', this.getOrderTabValue())\n    },\n\n    //Toggle orderWindow\n    async toggleOrderWindow () {\n      var order = this.orderType == \"buy\" ? \"sell\" : \"buy\";\n      this.$store.commit(\"orderWindow/setOrderType\", order);\n      this.checkMarginAvailable();\n    },\n\n    //call orderWindow\n    async hideOrderWindow () {\n      !this.modifyOrder ? this.$store.commit(\"orderWindow/setOrderWindow\", false) : this.$store.commit(\"orderWindow/setOrderWindowModify\", false)\n    },\n\n    // order place\n    async placeOrder () {\n      this.isFormSubmit = true;\n      let json = {\n        qty: this.quantity,\n        complexity: this.getOrderTabValue(this.ordertab),\n        pcode: this.prodType.toLowerCase(),\n        priceType: this.priceType,\n        price: this.price,\n        trgPrice: this.triggerPrice,\n        stopLoss: this.stopLossPrice,\n        trailStopLoss: this.trailStopLossPrice,\n        discQty: this.disclosedQuantity,\n        validity: this.validityType,\n      };\n      var qtyInputBox = document.querySelector(\"#qty\");\n      var priceInputBox = document.querySelector(\"#price\");\n      var trgPriceInputBox = document.querySelector(\"#triggerPrice\");\n      var targetPriceInputBox = document.querySelector(\"#triggerPrice\");\n      var stopLossPriceInputBox = document.querySelector(\"#stopLossPrice\");\n      var trailStopLossPriceInputBox = document.querySelector(\"#trailStopLossPrice\");\n      var discQtyInputBox = document.querySelector(\"#discQty\");\n      this.quantityValidation();\n      this.priceValidation();\n      this.triggerPriceValiation();\n      if (this.orderTypeList[this.orderTab] === 'Bracket') {\n        this.targetPriceValidation();\n        this.stopLossPriceValidation();\n        this.trailPriceValidation();\n      }\n      if (this.showMore) {\n        this.discQtyValidation();\n      }\n      if (this.orderTypeList[this.orderTab] == 'Bracket' ? targetPriceInputBox.checkValidity() && stopLossPriceInputBox.checkValidity() && trailStopLossPriceInputBox.checkValidity() : true && qtyInputBox.checkValidity() && this.isPrice ? priceInputBox.checkValidity() : true && this.isTrgPrice ? trgPriceInputBox.checkValidity() : true &&\n        this.showMore ? discQtyInputBox.checkValidity() : true) {\n        this.hideOrderWindow();\n        this.modifyOrder\n          ? await this.$store.dispatch(\"orderWindow/modifyOrder\", json)\n          : await this.$store.dispatch(\"orderWindow/placeOrder\", json);\n      }\n      this.isFormSubmit = false;\n    },\n\n    checkQuantity (event) {\n      if (event.keyCode != 13) {\n        this.showError = true;\n        var inp = String.fromCharCode(event.keyCode);\n        if (/[0-9]/.test(inp)) {\n          return true;\n        } else {\n          event.preventDefault();\n          return false;\n        }\n      }\n    },\n\n    decimalAllowed (event) {\n      if (event.keyCode != 13) {\n        this.showError = true;\n        var inp = String.fromCharCode(event.keyCode);\n        if (/[0-9.]/.test(inp)) {\n          return true;\n        } else {\n          event.preventDefault();\n          return false;\n        }\n      }\n    },\n\n    // quantity validation\n    quantityValidation () {\n      var qtyVal = parseFloat(this.quantity);\n      var qtyLot = this.floatSafeRemainder(qtyVal, this.minlot);\n      const qtyInputBox = document.querySelector(\"#qty\");\n      if (this.quantity.toString() == \"\") {\n        return qtyInputBox.setCustomValidity(\"Quantity cannot not be empty\")\n      } else if (qtyVal == 0) {\n        return qtyInputBox.setCustomValidity(\"Quantity cannot be zero\")\n      } else if (qtyLot != 0 && this.minlot > 0) {\n        return qtyInputBox.setCustomValidity(\"Quantity should be multiple of lot size. (\" + this.minlot + \")\")\n      } else {\n        qtyInputBox.setCustomValidity('')\n      }\n    },\n\n    // price validation\n    priceValidation () {\n      const priceInputBox = document.querySelector(\"#price\");\n      var priceVal = parseFloat(this.price);\n      var lowerRangeVal = parseFloat(this.lowerRange);\n      var upperRangeVal = parseFloat(this.upperRange);\n      var checkDprVal = this.checkDpr(priceVal, upperRangeVal, lowerRangeVal)\n      var priceTick = this.floatSafeRemainder(priceVal, this.tickPrice);\n\n      if (this.price.toString() == \"\") {\n        priceInputBox.setCustomValidity('Price cannot be Empty')\n        return;\n      } else if (priceVal == 0) {\n        priceInputBox.setCustomValidity(`Price cannot be zero`);\n        this.isFormSubmit ? priceInputBox.reportValidity() : ''\n        return;\n      } else if (priceTick != 0) {\n        priceInputBox.setCustomValidity(`Price Should be multiple of Tick size ${this.tickPrice}`)\n        return;\n      } else if (\n        !checkDprVal && this.ltp != 0 && Number(this.ltp) >= lowerRangeVal && Number(this.ltp) <= upperRangeVal &&\n        this.priceType != \"market\" &&\n        this.priceType != \"sl-m\"\n      ) {\n        priceInputBox.setCustomValidity(`Price Should be within the DPR range`)\n        return;\n      } else {\n        priceInputBox.setCustomValidity('')\n      }\n    },\n\n    // stoploss price validation\n    triggerPriceValiation () {\n      const trgPriceInputBox = document.querySelector(\"#triggerPrice\");\n      var trigPriceVal = parseFloat(this.triggerPrice);\n      var trigTick = this.floatSafeRemainder(trigPriceVal, this.tickPrice);\n      if (this.triggerPrice.toString() == \"\") {\n        trgPriceInputBox.setCustomValidity('Trigger Price cannot be Empty');\n        return;\n      } else if (trigPriceVal == 0) {\n        trgPriceInputBox.setCustomValidity('Trigger Price cannot be zero');\n        return;\n      } else if (trigTick != 0) {\n        trgPriceInputBox.setCustomValidity(`Trigger Price Should be multiple of Ticks ${this.tickPrice}`);\n        return;\n      } else {\n        trgPriceInputBox.setCustomValidity('');\n      }\n    },\n\n    //targetPrice based on Exchange\n    targetPriceValidation () {\n      const targetPriceInputBox = document.querySelector(\"#targetPrice\");\n      var value = parseFloat(this.targetPrice);\n      var targetTick = this.floatSafeRemainder(value, this.tickPrice);\n      if (this.targetPrice.toString() == \"\") {\n        targetPriceInputBox.setCustomValidity('Target Price Cannot be Empty')\n        return\n      } else if (value == 0) {\n        targetPriceInputBox.setCustomValidity('Target Price should be greater than 0')\n        this.isFormSubmit ? targetPriceInputBox.reportValidity() : ''\n        return\n      } else if (targetTick != 0) {\n        targetPriceInputBox.setCustomValidity(`Target Price should be multiple of \" + ${this.tickPrice}`)\n        return\n      } else {\n        targetPriceInputBox.setCustomValidity('')\n        return\n      }\n    },\n\n    //stopLossPrice based on Exchange\n    stopLossPriceValidation () {\n      const stopLossPriceInputBox = document.querySelector(\"#stopLossPrice\");\n      var value = parseFloat(this.stopLossPrice);\n      var slTick = this.floatSafeRemainder(value, this.tickPrice);\n      if (this.stopLossPrice.toString() == \"\") {\n        stopLossPriceInputBox.setCustomValidity('Stoploss Price Cannot be Empty')\n        return;\n      } else if (value <= 0) {\n        stopLossPriceInputBox.setCustomValidity('Stoploss Price Cannot be less then 0')\n        this.isFormSubmit ? stopLossPriceInputBox.reportValidity() : ''\n        return;\n      } else if (slTick != 0 && slTick != \"0\") {\n        stopLossPriceInputBox.setCustomValidity(`Stoploss Price Should be multiple of \" + ${this.tickPrice}`)\n        return;\n      } else {\n        return stopLossPriceInputBox.setCustomValidity('')\n      }\n    },\n\n    //trailPrice based on Exchange\n    trailPriceValidation () {\n      const trailStopLossPriceInputBox = document.querySelector(\"#trailStopLossPrice\");\n      var value = parseFloat(this.trailStopLossPrice);\n      var trailTick = this.floatSafeRemainder(\n        this.trailStopLossPrice,\n        this.tickPrice\n      );\n      var targetVal = parseFloat(this.targetPrice);\n      if (this.trailStopLossPrice.toString() == \"\") {\n        trailStopLossPriceInputBox.setCustomValidity('TrailStoploss Price Cannot be Empty')\n        return;\n      } else if (trailTick != 0) {\n        trailStopLossPriceInputBox.setCustomValidity(`TrailStoploss Should be multiple of \" + (${this.tickPrice})`)\n        return;\n      } else if (this.priceType == \"L\" && value < this.tickPrice && value != 0) {\n        trailStopLossPriceInputBox.setCustomValidity(`Trailing Stoploss should be minimum of TickPrice`)\n        return;\n      } else if (targetVal < value && value != 0) {\n        trailStopLossPriceInputBox.setCustomValidity(`TrailStoploss Should be Less than \" + (${targetVal})`)\n        this.isFormSubmit ? trailStopLossPriceInputBox.reportValidity() : ''\n        return;\n      } else {\n        trailStopLossPriceInputBox.setCustomValidity('')\n      }\n    },\n\n    //Disclosed qty based on Exchange\n    discQtyValidation () {\n      const discQtyInputBox = document.querySelector(\"#discQty\");\n      let dicPercentage;\n      var disclosedQty = parseFloat(this.disclosedQuantity);\n      var qty = parseFloat(this.currentQty);\n      if (this.currentExchange == \"MCX\") {\n        dicPercentage = 25 / this.Qty;\n      } else {\n        dicPercentage = 10 / this.Qty;\n      }\n      var disCheck = parseFloat(disclosedQty / qty);\n      this.discQtytik = Math.ceil(disCheck);\n\n      /** Disclosed quantity */\n      if (this.currentExchange != \"NFO\" && this.currentExchange != \"BFO\") {\n        if (this.disclosedQuantity.toString() == \"\") {\n          discQtyInputBox.setCustomValidity('Disc.Qty should not be empty')\n          return;\n        } else if (disclosedQty < this.discQtytik && disclosedQty != 0) {\n          if (this.currentExchange == \"MCX\") {\n            discQtyInputBox.setCustomValidity('Disc.Qty should be either 0 or 25% to 100% of quantity')\n            return;\n          } else if (this.currentExchange != \"MCX\") {\n            discQtyInputBox.setCustomValidity('Disc.Qty should be either 0 or 10% to 100% of quantity')\n            return;\n          } else {\n            discQtyInputBox.setCustomValidity('')\n          }\n        } else if (disclosedQty > qty) {\n          discQtyInputBox.setCustomValidity('Disc.Qty cannot be greater than Qty')\n          return;\n        } else {\n          discQtyInputBox.setCustomValidity('')\n        }\n      }\n      discQtyInputBox.reportValidity()\n    },\n\n    //Float Safe Remainder of last 2 digits or 4 digits\n    floatSafeRemainder (val, step) {\n      val = val.toString();\n      step = step.toString();\n      var valDecCount = val.includes(\".\")\n        ? val.split(\".\")[1].length != null\n          ? val.split(\".\")[1].length\n          : 0\n        : val.length;\n      var stepDecCount = step.includes(\".\")\n        ? step.split(\".\")[1].length != null\n          ? step.split(\".\")[1].length\n          : 0\n        : step.length;\n      var decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n      var valInt = parseFloat(\n        parseFloat(val).toFixed(decCount).toString().replaceAll(\".\", \"\")\n      );\n      var stepInt = parseFloat(\n        parseFloat(step).toFixed(decCount).toString().replaceAll(\".\", \"\")\n      );\n      return (valInt % stepInt) / Math.pow(10, decCount);\n    },\n\n    getOrderTabValue () {\n      return this.orderTypeList[this.orderTab] == 'Regular'\n        ? \"regular\"\n        : this.orderTypeList[this.orderTab] == 'Cover'\n          ? \"cover\"\n          : this.orderTypeList[this.orderTab] == 'Bracket'\n            ? \"bracket\"\n            : this.orderTypeList[this.orderTab] == 'AMO'\n              ? \"amo\"\n              : \"regular\";\n    },\n\n    // capitalize first letter\n    capitalizeFirstLetter (string) {\n      return string.charAt(0).toUpperCase() + string.slice(1);\n    },\n\n    async nseBseSwitch (exch) {\n      await this.$store.commit('orderWindow/makeActive', exch)\n      this.checkMarginAvailable()\n      this.priceValidation()\n    },\n\n    checkDpr (price, uc, lc) {\n      return uc !== 0 && price >= lc && price <= uc\n    },\n\n    // check margin availble value\n    checkMarginAvailable () {\n\n      let json = {\n        \"userId\": this.getUserId,\n        \"exch\": this.currentPage == 'basket' ? this.currentOrder.exchange : this.currentExchange,\n        \"exchSeg\": this.currentPage == 'basket' ? this.currentOrder.exchange : this.currentExchange,\n        \"symbol\": this.currentPage == 'basket' ? this.currentOrder.token : this.nseBseType ? this.currentExchange == 'NSE' ? this.nsePriceRangeData[0].token : this.bsePriceRangeData[0].token : this.currentPage == 'positions' ? this.currentOrder.Token : this.currentPage == 'holdings' ? this.currentExchange == \"NSE\" ? this.currentOrder.Token1 : this.currentOrder.Token2 : this.currentOrder.token,\n        \"pCode\": this.currentPage == 'basket' ? this.currentOrder.product : this.prodType,\n        \"price\": this.currentPage == 'basket' ? this.currentOrder.price : this.price.toString(),\n        \"qty\": this.currentPage == 'basket' ? parseInt(this.currentOrder.quantity) : parseInt(this.quantity),\n        \"transtype\": this.currentPage == 'basket' ? this.currentOrder.transaction_type : this.orderType,\n        \"prctyp\": this.currentPage == 'basket' ? this.currentOrder.order_type : this.priceType,\n        \"complexty\": this.getOrderTabValue(this.orderTab),\n        \"trigPrice\": this.currentPage == 'basket' ? this.currentOrder.trigger_price : this.triggerPrice,\n        \"target\": this.currentPage == 'basket' ? this.currentOrder.target_price : this.targetPrice,\n        \"stopLoss\": this.currentPage == 'basket' ? this.currentOrder.stoploss : this.stopLossPrice,\n        \"trailing_stop_loss\": this.currentPage == 'basket' ? this.currentOrder.trailing_stoploss : this.trailStopLossPrice\n      }\n      this.$store.dispatch('orderWindow/getMarginAvailable', json)\n    }\n  },\n\n  watch: {\n    priceType: function (val) {\n      this.$store.commit('orderWindow/changeOrderType', this.getOrderTabValue())\n      if (\n        (this.currentPage == \"mkWatch\" || this.currentPage == \"orders\" || this.currentPage == \"analytics\") &&\n        this.modifyOrder == false\n      ) {\n        localStorage.setItem(\n          \"orderPreference\",\n          JSON.stringify({\n            product: this.prodType,\n            validity: this.validityType,\n            variety: this.getOrderTabValue(this.orderType),\n            orderType: this.priceType,\n          })\n        );\n      }\n      if (val == 'L') {\n        this.price ? this.priceValidation() : ''\n      }\n      if (val == 'SL') {\n        this.price ? this.priceValidation() : ''\n        this.triggerPrice ? this.triggerPriceValiation() : ''\n      }\n      if (val == 'SL-M') {\n        this.triggerPrice ? this.triggerPriceValiation() : ''\n      }\n      // this.checkMarginAvailable()\n    },\n\n    prodType: function (val) {\n      if (\n        (this.currentPage == \"mkWatch\" || this.currentPage == \"orders\" || this.currentPage == \"analytics\") &&\n        this.modifyOrder == false\n      ) {\n        localStorage.setItem(\n          \"orderPreference\",\n          JSON.stringify({\n            product: this.prodType,\n            validity: this.validityType,\n            variety: this.getOrderTabValue(this.orderTab),\n            orderType: this.priceType,\n          })\n        );\n      }\n      // this.checkMarginAvailable()\n    },\n\n    orderTab: function (val) {\n      if (\n        (this.currentPage == \"mkWatch\" || this.currentPage == \"orders\" || this.currentPage == \"analytics\") &&\n        this.modifyOrder == false\n      ) {\n        localStorage.setItem(\n          \"orderPreference\",\n          JSON.stringify({\n            product: this.prodType,\n            validity: this.validityType,\n            variety: this.getOrderTabValue(this.orderTab),\n            orderType: this.priceType,\n          })\n        );\n      }\n      // this.checkMarginAvailable()\n    },\n\n    validityType: function (val) {\n      if (\n        (this.currentPage == \"mkWatch\" || this.currentPage == \"orders\" || this.currentPage == \"analytics\") &&\n        this.modifyOrder == false\n      ) {\n        localStorage.setItem(\n          \"orderPreference\",\n          JSON.stringify({\n            product: this.prodType,\n            validity: this.validityType,\n            variety: this.getOrderTabValue(this.orderTab),\n            orderType: this.priceType,\n          })\n        );\n      }\n    },\n\n    targetPrice: function (val) {\n      this.checkMarginAvailable();\n    },\n    stopLossPrice: function (val) {\n      this.checkMarginAvailable();\n    },\n    trailStopLossPrice: function (val) {\n      this.checkMarginAvailable();\n    }\n  },\n\n  created () {\n    if (localStorage.getItem(\"orderPreference\") == null || localStorage.getItem(\"orderPreference\") == undefined) {\n      localStorage.setItem(\n        \"orderPreference\",\n        JSON.stringify({\n          product: this.prodType,\n          validity: this.validityType,\n          variety: this.getOrderTabValue(this.orderTab),\n          orderType: this.priceType,\n        })\n      );\n    }\n  },\n};"]}]}