{"remainingRequest":"/home/stoneage/vueJs projects/aliceblueTradevuex/node_modules/babel-loader/lib/index.js!/home/stoneage/vueJs projects/aliceblueTradevuex/src/store/Services/formula.js","dependencies":[{"path":"/home/stoneage/vueJs projects/aliceblueTradevuex/src/store/Services/formula.js","mtime":1655307156177},{"path":"/home/stoneage/vueJs projects/aliceblueTradevuex/babel.config.js","mtime":1649344700943},{"path":"/home/stoneage/vueJs projects/aliceblueTradevuex/node_modules/cache-loader/dist/cjs.js","mtime":1655272566310},{"path":"/home/stoneage/vueJs projects/aliceblueTradevuex/node_modules/babel-loader/lib/index.js","mtime":1655272566942}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS1hbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wYXJzZS1mbG9hdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOwoKZnVuY3Rpb24gY2hlY2tOdWxsTmFuKHZhbHVlKSB7CiAgcmV0dXJuIHZhbHVlICYmICEhdmFsdWUgJiYgdmFsdWUudG9TdHJpbmcoKSAhPSAiTkEiICYmIHZhbHVlLnRvU3RyaW5nKCkgIT0gIi0iICYmICFpc05hTih2YWx1ZSkgPyB0cnVlIDogZmFsc2U7Cn0KCnZhciBmb3JtdWxhID0gbmV3IFZ1ZSh7CiAgbWV0aG9kczogewogICAgY29udmVydFRvTnVtYmVyOiBmdW5jdGlvbiBjb252ZXJ0VG9OdW1iZXIodmFsdWUpIHsKICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCkucmVwbGFjZUFsbCgvLC9nLCAiIik7CiAgICB9LAogICAgcmVhbGlzZWRQcm9maXRMb3NzOiBmdW5jdGlvbiByZWFsaXNlZFByb2ZpdExvc3MoZGF0YSkgewogICAgICB2YXIgcmVhbGlzZSA9IDA7CiAgICAgIHZhciBjbG9zZWRRdHkgPSAnJzsKICAgICAgdmFyIHRlbXBRdHkgPSAwOwoKICAgICAgaWYgKHBhcnNlRmxvYXQoZGF0YVsnbmV0YnV5cXR5J10pID4gMCAmJiBwYXJzZUZsb2F0KGRhdGFbJ25ldHNlbGxxdHknXSkgPiAwKSB7CiAgICAgICAgaWYgKHBhcnNlRmxvYXQoZGF0YVsnbmV0YnV5cXR5J10pID4gcGFyc2VGbG9hdChkYXRhWyduZXRzZWxscXR5J10pKSB7CiAgICAgICAgICBjbG9zZWRRdHkgPSBwYXJzZUZsb2F0KGRhdGFbJ25ldHNlbGxxdHknXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNsb3NlZFF0eSA9IHBhcnNlRmxvYXQoZGF0YVsnbmV0YnV5cXR5J10pOwogICAgICAgIH0KCiAgICAgICAgY2xvc2VkUXR5ID0gY2hlY2tOdWxsTmFuKGNsb3NlZFF0eSkgPyBjbG9zZWRRdHkgOiAwOwogICAgICAgIHRlbXBRdHkgPSBkYXRhLkV4Y2hhbmdlID09ICJORk8iIHx8IGRhdGEuRXhjaGFuZ2UgPT0gIkJGTyIgPyBjbG9zZWRRdHkgOiBjbG9zZWRRdHkgKiBwYXJzZUZsb2F0KGRhdGFbJ0JMUXR5J10pOwogICAgICAgIHJlYWxpc2UgPSB0ZW1wUXR5ICogKHBhcnNlRmxvYXQoZGF0YVsnTmV0U2VsbGF2Z3ByYyddKSAtIHBhcnNlRmxvYXQoZGF0YVsnTmV0QnV5YXZncHJjJ10pKTsKICAgICAgICByZWFsaXNlID0gZGF0YS5FeGNoYW5nZSA9PSAiQ0RTIiB8fCBkYXRhLkV4Y2hhbmdlID09ICJCQ0QiID8gcmVhbGlzZSAqIDEwMDAgOiByZWFsaXNlOwogICAgICAgIHJldHVybiByZWFsaXNlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiByZWFsaXNlOwogICAgICB9CiAgICB9LAogICAgdW5SZWFsaXNlZFByb2ZpdExvc3M6IGZ1bmN0aW9uIHVuUmVhbGlzZWRQcm9maXRMb3NzKGRhdGEpIHsKICAgICAgdmFyIHVuUmVhbGlzZSA9IDA7CgogICAgICBpZiAocGFyc2VGbG9hdChkYXRhLk5ldHF0eSkgIT0gMCkgewogICAgICAgIHZhciB0ZW1wQXZnUHJjID0gcGFyc2VGbG9hdChkYXRhLk5ldHF0eSkgPiAwID8gcGFyc2VGbG9hdChkYXRhWyJMVFAiXSkgLSBwYXJzZUZsb2F0KGRhdGFbIk5ldEJ1eWF2Z3ByYyJdKSA6IHBhcnNlRmxvYXQoZGF0YVsiTmV0U2VsbGF2Z3ByYyJdKSAtIHBhcnNlRmxvYXQoZGF0YVsiTFRQIl0pOwogICAgICAgIHZhciB0ZW1wUXR5TXVsID0gZGF0YS5FeGNoYW5nZSA9PSAiTkZPIiB8fCBkYXRhLkV4Y2hhbmdlID09ICJCRk8iID8gcGFyc2VGbG9hdChkYXRhWydOZXRxdHknXSkgOiBwYXJzZUZsb2F0KGRhdGFbJ05ldHF0eSddKSAqIHBhcnNlRmxvYXQoZGF0YVsnQkxRdHknXSk7CgogICAgICAgIGlmICh0ZW1wUXR5TXVsIDwgMCkgewogICAgICAgICAgdGVtcFF0eU11bCA9IHRlbXBRdHlNdWwgKiAtMTsKICAgICAgICB9CgogICAgICAgIHVuUmVhbGlzZSA9IHRlbXBRdHlNdWwgKiB0ZW1wQXZnUHJjOwogICAgICAgIHVuUmVhbGlzZSA9IGRhdGEuRXhjaGFuZ2UgPT0gIkNEUyIgfHwgZGF0YS5FeGNoYW5nZSA9PSAiQkNEIiA/IHVuUmVhbGlzZSAqIDEwMDAgOiB1blJlYWxpc2U7CiAgICAgICAgcmV0dXJuIHVuUmVhbGlzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdW5SZWFsaXNlOwogICAgICB9CiAgICB9LAogICAgLy8gaG9sZGluZ3MgZm9ybXVsYSAKCiAgICAvKioqKgogICAgICogQGF1dGhvciBCaGFyYXRoICAgIAogICAgICogQHNpbmNlIEFwciAwNCAyMDIyCiAgICAgKiBAbWV0aG9kIENhbGN1bGF0ZSBhIFAmTCBhbmQgT3RoZXJzIHVzaW5nIEFQSSBhbmQgV2Vic29ja2V0CiAgICAgKioqKi8KICAgIGhvbGRpbmdzUHJvZml0TG9zczogZnVuY3Rpb24gaG9sZGluZ3NQcm9maXRMb3NzKCkgewogICAgICBzdG9yZS5zdGF0ZS5ob2xkaW5ncy50b3RhbEludmVzdG1lbnQgPSAwOwogICAgICBzdG9yZS5zdGF0ZS5ob2xkaW5ncy50b3RhbGN1cnJlbnRWYWx1ZSA9IDA7CiAgICAgIHN0b3JlLnN0YXRlLmhvbGRpbmdzLnRvdGFsUG5sID0gMDsKICAgICAgc3RvcmUuc3RhdGUuaG9sZGluZ3MudG90YWxQbmxDaGFuZ2UgPSAwOwogICAgICB2YXIgdG90YWxQcmV2aW91c0RheUNsb3NlID0gMDsKICAgICAgc3RvcmUuc3RhdGUuaG9sZGluZ3MuZGF5c1BubCA9IDA7CiAgICAgIHN0b3JlLnN0YXRlLmhvbGRpbmdzLmRheXNQbmxDaGFuZ2UgPSAwOwogICAgICBzdG9yZS5zdGF0ZS5ob2xkaW5ncy5ob2xkaW5nTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChlbCwgaSkgewogICAgICAgIGVsWyJCdHN0Il0gPSBlbFsiQnRzdCJdID8gZWxbIkJ0c3QiXSA6IDA7CiAgICAgICAgZWxbIlNlbGxhYmxlUXR5Il0gPSBlbFsiU2VsbGFibGVRdHkiXSA/IGVsWyJTZWxsYWJsZVF0eSJdIDogMDsKICAgICAgICBlbFsiUHJpY2UiXSA9IGVsWyJQcmljZSJdID8gZWxbIlByaWNlIl0gOiAwOwogICAgICAgIHZhciBxdWFudGl0eSA9IHBhcnNlRmxvYXQoZWxbIkJ0c3QiXSkgKyBwYXJzZUZsb2F0KGVsWyJTZWxsYWJsZVF0eSJdKTsKICAgICAgICB2YXIgZXhjaEhvbGQgPSBlbFsnRXhjaFNlZzEnXSAmJiBlbC5Oc2V0c3ltICE9ICIwIiA/IGVsWydFeGNoU2VnMSddIDogZWxbJ0V4Y2hTZWcyJ107IC8vIHAmbCBjYWxjdWxhdGlvbgoKICAgICAgICBlbC5wbmwgPSBwYXJzZUZsb2F0KGVsWyJQcmljZSJdKSA+PSAwID8gKChleGNoSG9sZCA9PSAiTlNFIiA/IHBhcnNlRmxvYXQoZWxbIkxUbnNlIl0pIDogcGFyc2VGbG9hdChlbFsiTFRic2UiXSkpIC0gcGFyc2VGbG9hdChlbFsiUHJpY2UiXSkpICogcXVhbnRpdHkgOiAwOwogICAgICAgIGVsLnBubCA9IGVsLnBubC50b0ZpeGVkKDIpOyAvLyBDYWxjdWxhdGUgQnV5IHZhbHVlCgogICAgICAgIGVsLmJ1eVZhbHVlID0gcGFyc2VGbG9hdChwYXJzZUZsb2F0KGVsWyJQcmljZSJdKSAqIHF1YW50aXR5KS50b0ZpeGVkKDIpOwogICAgICAgIHZhciBsdHBIb2xkID0gZXhjaEhvbGQgPT0gIk5TRSIgPyBwYXJzZUZsb2F0KGVsWyJMVG5zZSJdKSA6IHBhcnNlRmxvYXQoZWxbIkxUYnNlIl0pOwogICAgICAgIHZhciBidXlBdmdIb2xkID0gcGFyc2VGbG9hdChlbFsiUHJpY2UiXSk7CgogICAgICAgIGlmIChidXlBdmdIb2xkICE9PSAwKSB7CiAgICAgICAgICBlbFsicGVyQ2hnIl0gPSBwYXJzZUZsb2F0KChsdHBIb2xkIC0gYnV5QXZnSG9sZCkgLyBidXlBdmdIb2xkICogMTAwKS50b0ZpeGVkKDIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlbFsicGVyQ2hnIl0gPSAwOwogICAgICAgIH0gLy8gdG90YWwgaW52ZXN0bWVudCBDYWxjdWxhdGlvbgoKCiAgICAgICAgc3RvcmUuc3RhdGUuaG9sZGluZ3MudG90YWxJbnZlc3RtZW50ID0gc3RvcmUuc3RhdGUuaG9sZGluZ3MudG90YWxJbnZlc3RtZW50ICsgcGFyc2VGbG9hdChlbC5idXlWYWx1ZSk7IC8vIHRvdGFsIGN1cnJlbnRWYWx1ZSBDYWxjdWxhdGlvbgoKICAgICAgICBzdG9yZS5zdGF0ZS5ob2xkaW5ncy50b3RhbGN1cnJlbnRWYWx1ZSArPSAoZXhjaEhvbGQgPT0gIk5TRSIgPyBwYXJzZUZsb2F0KGVsLkxUbnNlKSA6IHBhcnNlRmxvYXQoZWwuTFRic2UpKSAqIHF1YW50aXR5OyAvLyB0b3RhbCBwJmwgY2FsY3VsYXRpb24KCiAgICAgICAgc3RvcmUuc3RhdGUuaG9sZGluZ3MudG90YWxQbmwgPSBzdG9yZS5zdGF0ZS5ob2xkaW5ncy50b3RhbFBubCArIHBhcnNlRmxvYXQoZWwucG5sKTsgLy8gdG90YWwgcCZsIGNoYW5nZSBjYWxjdWxhdGlvbgoKICAgICAgICBzdG9yZS5zdGF0ZS5ob2xkaW5ncy50b3RhbFBubENoYW5nZSA9IChzdG9yZS5zdGF0ZS5ob2xkaW5ncy50b3RhbGN1cnJlbnRWYWx1ZSAtIHN0b3JlLnN0YXRlLmhvbGRpbmdzLnRvdGFsSW52ZXN0bWVudCkgLyBzdG9yZS5zdGF0ZS5ob2xkaW5ncy50b3RhbEludmVzdG1lbnQgKiAxMDA7IC8vIC8vIGZpbmQgc3VtIG9mIERheSdzIFAmTAoKICAgICAgICBpZiAoISFlbFsicHJldmlvdXNEYXlDbG9zZSJdKSB7CiAgICAgICAgICBzdG9yZS5zdGF0ZS5ob2xkaW5ncy5kYXlzUG5sICs9ICgoZXhjaEhvbGQgPT0gIk5TRSIgPyBwYXJzZUZsb2F0KGVsWyJMVG5zZSJdKSA6IHBhcnNlRmxvYXQoZWxbIkxUYnNlIl0pKSAtIHBhcnNlRmxvYXQoZWxbInByZXZpb3VzRGF5Q2xvc2UiXSkpICogcXVhbnRpdHk7CiAgICAgICAgICB0b3RhbFByZXZpb3VzRGF5Q2xvc2UgPSB0b3RhbFByZXZpb3VzRGF5Q2xvc2UgKyBwYXJzZUZsb2F0KGVsLnByZXZpb3VzRGF5Q2xvc2UpICogcXVhbnRpdHk7IC8vIC8vIGZpbmQgRGF5J3MgUCZMIENoYW5nZQoKICAgICAgICAgIHN0b3JlLnN0YXRlLmhvbGRpbmdzLmRheXNQbmxDaGFuZ2UgPSAoc3RvcmUuc3RhdGUuaG9sZGluZ3MudG90YWxjdXJyZW50VmFsdWUgLSB0b3RhbFByZXZpb3VzRGF5Q2xvc2UpIC8gdG90YWxQcmV2aW91c0RheUNsb3NlICogMTAwOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgZm9ybXVsYTs="},{"version":3,"sources":["/home/stoneage/vueJs projects/aliceblueTradevuex/src/store/Services/formula.js"],"names":["Vue","store","checkNullNan","value","toString","isNaN","formula","methods","convertToNumber","replaceAll","realisedProfitLoss","data","realise","closedQty","tempQty","parseFloat","Exchange","unRealisedProfitLoss","unRealise","Netqty","tempAvgPrc","tempQtyMul","holdingsProfitLoss","state","holdings","totalInvestment","totalcurrentValue","totalPnl","totalPnlChange","totalPreviousDayClose","daysPnl","daysPnlChange","holdingList","forEach","el","i","quantity","exchHold","Nsetsym","pnl","toFixed","buyValue","ltpHold","buyAvgHold","LTnse","LTbse","previousDayClose"],"mappings":"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","sourcesContent":["import Vue from 'vue';\nimport store from '@/store'\nfunction checkNullNan (value) {\n    return value && !!value && value.toString() != \"NA\" && value.toString() != \"-\" && !isNaN(value) ? true : false\n}\nconst formula = new Vue({\n\n    methods: {\n        convertToNumber(value){ return value.toString().replaceAll(/,/g, \"\") },\n        \n        realisedProfitLoss(data) {\n            \n            var realise = 0\n            var closedQty = ''\n            var tempQty = 0\n\n            if (parseFloat(data['netbuyqty']) > 0 && parseFloat(data['netsellqty']) > 0) {\n                \n                if (parseFloat(data['netbuyqty']) > parseFloat(data['netsellqty'])) {\n                    closedQty = parseFloat(data['netsellqty'])\n                } else {\n                    closedQty = parseFloat(data['netbuyqty'])\n                }\n\n                closedQty = checkNullNan(closedQty) ? closedQty : 0\n                tempQty = data.Exchange == \"NFO\" || data.Exchange == \"BFO\" ? closedQty : closedQty * parseFloat(data['BLQty'])\n                realise = tempQty * (parseFloat(data['NetSellavgprc']) - parseFloat(data['NetBuyavgprc']));\n\n                realise = data.Exchange == \"CDS\" || data.Exchange == \"BCD\" ? realise * 1000 : realise\n                return realise\n            } else {\n                return realise\n            }\n        },\n\n        unRealisedProfitLoss(data) {\n            \n            var unRealise = 0\n            if (parseFloat(data.Netqty) != 0) {\n               \n                var tempAvgPrc = parseFloat(data.Netqty) > 0 ? parseFloat(data[\"LTP\"]) - parseFloat(data[\"NetBuyavgprc\"]) : parseFloat(data[\"NetSellavgprc\"]) - parseFloat(data[\"LTP\"])\n                var tempQtyMul = data.Exchange == \"NFO\" || data.Exchange == \"BFO\" ? parseFloat(data['Netqty']) : parseFloat(data['Netqty']) * parseFloat(data['BLQty'])\n                if(tempQtyMul < 0){\n                    tempQtyMul = tempQtyMul * -1;\n                }\n                unRealise = tempQtyMul * tempAvgPrc\n\n                unRealise = data.Exchange == \"CDS\" || data.Exchange == \"BCD\" ? unRealise * 1000 : unRealise\n                return unRealise\n            } else {\n                return unRealise\n            }\n\n        },\n\n\n        // holdings formula \n        /****\n         * @author Bharath    \n         * @since Apr 04 2022\n         * @method Calculate a P&L and Others using API and Websocket\n         ****/ \n        holdingsProfitLoss(){\n\n            store.state.holdings.totalInvestment = 0\n            store.state.holdings.totalcurrentValue = 0\n            store.state.holdings.totalPnl = 0\n            store.state.holdings.totalPnlChange = 0\n            var totalPreviousDayClose = 0\n            store.state.holdings.daysPnl = 0\n            store.state.holdings.daysPnlChange = 0\n            store.state.holdings.holdingList.forEach((el, i) => {\n                el[\"Btst\"] = el[\"Btst\"] ? el[\"Btst\"] : 0\n                el[\"SellableQty\"] = el[\"SellableQty\"] ? el[\"SellableQty\"] : 0\n                el[\"Price\"] = el[\"Price\"] ? el[\"Price\"] : 0\n                var quantity = parseFloat(el[\"Btst\"]) + parseFloat(el[\"SellableQty\"])\n                var exchHold = el['ExchSeg1'] && el.Nsetsym != \"0\" ?  el['ExchSeg1'] :  el['ExchSeg2'] \n                // p&l calculation\n                el.pnl = parseFloat(el[\"Price\"]) >= 0 ? ((exchHold == \"NSE\" ? parseFloat(el[\"LTnse\"]) : parseFloat(el[\"LTbse\"])) - parseFloat(el[\"Price\"])) * quantity : 0\n                el.pnl = (el.pnl).toFixed(2)\n\n                // Calculate Buy value\n                el.buyValue = parseFloat(parseFloat(el[\"Price\"]) * quantity).toFixed(2)\n\n                var ltpHold = exchHold == \"NSE\"\n                    ? parseFloat(el[\"LTnse\"])\n                    : parseFloat(el[\"LTbse\"]);\n\n                var buyAvgHold = parseFloat(el[\"Price\"]);\n                if (buyAvgHold !== 0) {\n                        el[\"perChg\"] =\n                            parseFloat(((ltpHold - buyAvgHold) / buyAvgHold) * 100).toFixed(2);\n                   \n                } else {\n                    el[\"perChg\"] = 0;\n                }\n\n                // total investment Calculation\n                store.state.holdings.totalInvestment = store.state.holdings.totalInvestment + parseFloat(el.buyValue);\n\n                // total currentValue Calculation\n                store.state.holdings.totalcurrentValue += (exchHold == \"NSE\" ? parseFloat(el.LTnse) :\n                    parseFloat(el.LTbse)) * quantity;\n\n                // total p&l calculation\n                store.state.holdings.totalPnl = store.state.holdings.totalPnl + parseFloat(el.pnl)\n\n                // total p&l change calculation\n                store.state.holdings.totalPnlChange = ((store.state.holdings.totalcurrentValue - store.state.holdings.totalInvestment) / store.state.holdings.totalInvestment) * 100  \n                \n                 // // find sum of Day's P&L\n                 if(!!el[\"previousDayClose\"]){\n                    store.state.holdings.daysPnl += ((exchHold == \"NSE\" ? parseFloat(el[\"LTnse\"]) : parseFloat(el[\"LTbse\"])) -\n                        parseFloat(el[\"previousDayClose\"])) * quantity;\n                    totalPreviousDayClose = totalPreviousDayClose + (parseFloat(el.previousDayClose) * quantity);\n                   // // find Day's P&L Change\n                   store.state.holdings.daysPnlChange = ((store.state.holdings.totalcurrentValue - totalPreviousDayClose) / totalPreviousDayClose) * 100 \n                }\n            })\n        }\n\n\n    }\n});\n\nexport default formula"]}]}