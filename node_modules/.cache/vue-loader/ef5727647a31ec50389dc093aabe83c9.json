{"remainingRequest":"/home/stoneage/vueJs projects/trustLineTradeVuex/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/stoneage/vueJs projects/trustLineTradeVuex/src/views/basket.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/stoneage/vueJs projects/trustLineTradeVuex/src/views/basket.vue","mtime":1655279049686},{"path":"/home/stoneage/vueJs projects/trustLineTradeVuex/node_modules/cache-loader/dist/cjs.js","mtime":1655272566310},{"path":"/home/stoneage/vueJs projects/trustLineTradeVuex/node_modules/babel-loader/lib/index.js","mtime":1655272566942},{"path":"/home/stoneage/vueJs projects/trustLineTradeVuex/node_modules/cache-loader/dist/cjs.js","mtime":1655272566310},{"path":"/home/stoneage/vueJs projects/trustLineTradeVuex/node_modules/vue-loader/lib/index.js","mtime":1655272561270}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCBvcmRlcldpbmRvdyBmcm9tICIuLi9taXhpbnMvb3JkZXJXaW5kb3ciOwpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbb3JkZXJXaW5kb3ddLAogIG5hbWU6ICJCYXNrZXQiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0Ryb3BwZWQ6IGZhbHNlLAogICAgICBjdXJyZW50SW5kZXg6IC0xLAogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIGN1c3RvbUljb246ICgpID0+IGltcG9ydCgiLi4vY29tcG9uZW50cy9jdXN0b21JY29uLnZ1ZSIpLAogICAgb3JkZXJXaW5kb3c6KCkgPT4gaW1wb3J0KCIuLi9jb21wb25lbnRzL29yZGVyV2luZG93LnZ1ZSIpLAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoImF1dGh0aWNhdGlvbiIsIFsKICAgICAgImdldFVzZXJJZCIsCiAgICAgICJnZXRVc2VyU2Vzc2lvbiIsCiAgICAgICJnZXRVc2VyU2Vzc2lvbkR0byIsCiAgICBdKSwKICAgIC4uLm1hcEdldHRlcnMoImJhc2tldCIsIFsiZ2V0QmFza2V0SXRlbXMiLCAiZ2V0VmVuZG9yRGV0YWlscyIsImdldEFwcE5hbWUiXSksCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRCYXNrZXQoKSB7CiAgICAgIHZhciBiYXNrZXRTZXNzaW9uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImJhc2tldFNlc3Npb25JZCIpOwogICAgICB2YXIgYmFza2V0QXBwQ29kZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJiYXNrZXRBcHBDb2RlIik7CiAgICAgIGlmIChiYXNrZXRTZXNzaW9uICYmIGJhc2tldEFwcENvZGUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYmFza2V0L2dldEJhc2tldCIsIHsKICAgICAgICAgIHNlc3Npb25JZDogYmFza2V0U2Vzc2lvbiwKICAgICAgICAgIGFwaUtleTogYmFza2V0QXBwQ29kZSwKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGRlbGV0ZUN1cnJlbnRPcmRlcihpbmRleCwgdHlwZSkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoImJhc2tldC9TRVRfQkFTS0VUX0lURU1TIiwgewogICAgICAgIGluZGV4OiBpbmRleCwKICAgICAgICB0eXBlOiB0eXBlLAogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyBjYWxsT3JkZXJXaW5kb3cob3JkZXJUeXBlLCB2YWx1ZSkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgib3JkZXJXaW5kb3cvc2V0SW5pdGlhbFZhbHVlcyIsIHsKICAgICAgICBkYXRhOiB2YWx1ZSwKICAgICAgICBwYWdlOiAiYmFza2V0IiwKICAgICAgfSk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgib3JkZXJXaW5kb3cvc2V0V2luZG93TG9hZGluZyIsIHRydWUpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldEN1cnJlbnRPcmRlciIsIHsKICAgICAgICBkYXRhOiB2YWx1ZSwKICAgICAgICBwYWdlOiAiYmFza2V0IiwKICAgICAgfSk7CiAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmNvbW1pdCgib3JkZXJXaW5kb3cvc2V0T3JkZXJXaW5kb3ciLCB0cnVlKTsKICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuY29tbWl0KCJvcmRlcldpbmRvdy9zZXRSZW1vdmVDc3MiLCB0cnVlKTsKICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuY29tbWl0KCJvcmRlcldpbmRvdy9zZXRPcmRlclR5cGUiLCBvcmRlclR5cGUpOwogICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgib3JkZXJXaW5kb3cvZ2V0TmV3UHJpY2VSYW5nZSIpOwogICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgib3JkZXJXaW5kb3cvZ2V0U2NyaXBRdW90ZURldGFpbHMiLCAiIik7CiAgICAgIGF3YWl0IHRoaXMuY2hhbmdlT3JkZXJUYWIoKTsKICAgIH0sCiAgICB3aW5kb3dDbG9zZSgpIHsKICAgICAgd2luZG93LmNsb3NlKCk7CiAgICB9LAogICAgcGxhY2VPcmRlcigpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIm9yZGVyV2luZG93L3BsYWNlQmFza2V0T3JkZXIiLCB7CiAgICAgICAgZGF0YTogdGhpcy5nZXRCYXNrZXRJdGVtcywKICAgICAgICBwYWdlOiAiYmFza2V0IiwKICAgICAgfSk7CiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0QmFza2V0KCk7CiAgfSwKfTsK"},{"version":3,"sources":["basket.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"basket.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <v-container fluid>\n      <div class=\"basket-card pa-8\" style=\"margin:60px auto;max-width:800px\">\n        <div class=\"d-flex flex-wrap justify-space-between pa-4 \">\n          <div class=\"d-flex\">\n            {{ getAppName ? getAppName : '' }}\n          </div>\n          <div class=\"d-flex align-center\">\n            <div>\n              <customIcon :name=\"'sidelogo'\" :width=\"'24'\" :height=\"'24'\" :color=\"$store.state.iconBlackColourCode\" />\n            </div>\n            <div>\n              <v-divider vertical class=\"mx-4\"></v-divider>\n            </div>\n            <div>\n              <span>{{ getUserId }}</span>\n            </div>\n          </div>\n        </div>\n        <div v-if=\"getBasketItems.length > 0\">\n        <table class=\"pos-reletive normal-table\">\n          <thead>\n            <tr>\n              <th></th>\n              <th class=\"fsize14 text-left\">Instrument</th>\n              <th class=\"fsize14 text-left\">Qty.</th>\n              <th class=\"fsize14 text-left\">Price</th>\n              <th class=\"fsize14 text-left\">Type</th>\n              <th class=\"fsize14 text-left\">Prod.</th>\n              <th class=\"fsize14 text-left\">Val.</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(i,id) in getBasketItems\" :key=\"id\" @mouseenter=\"isDropped = false;currentIndex = id\" @mouseleave=\"isDropped = false;currentIndex = -1\">\n              <td class=\"fsize14\">\n                <button class=\"rounded-sm text-capitalize fsize10 px-3 py-1\" :class=\"i.transactionType.toLowerCase() == 'buy' ? 'buycolor' : 'sellcolor'\">\n                  {{ i.transactionType }}\n                </button>\n              </td>\n              <td class=\"pos-reletive fsize14\" @mouseleave=\"currentIndex = -1; isDropped = false\">{{i.tradingSymbol}}\n                <div class=\"dropdown position-absolute right-0\" v-if=\"currentIndex == id\">\n                  <v-btn @click=\"isDropped = !isDropped\" min-width=\"50\" max-width=\"50\" height=\"23\" outlined depressed class=\"d-flex align-center justify-center pos-reletive fsize12 text-capitalize border-0075e1 rounded-sm color-0075e1 background-white\">\n                    More </v-btn>\n                  <transition name=\"slide\">\n                    <ul v-if=\"currentIndex == id && isDropped\" class=\"pa-0 list expectMkWatchMoreList\">\n                      <!-- <li @click=\"callOrderWindow(i.transactionType.toLowerCase(), i);isDropped = false;\" class=\"primaryColor fsize12 cursor\">\n                        Modify\n                      </li> -->\n                      <li @click=\"deleteCurrentOrder(id,'delete'); isDropped = false;\" class=\"primaryColor fsize12 cursor\">\n                        Delete\n                      </li>\n                    </ul>\n                  </transition>\n                </div>\n              </td>\n              <td class=\"fsize14\">{{i.quantity}}</td>\n              <td class=\"fsize14\">{{i.price}}</td>\n              <td class=\"fsize14\">{{i.orderType}}</td>\n              <td class=\"fsize14\">{{i.product}}</td>\n              <td class=\"fsize14\">{{i.validity}}</td>\n            </tr>\n          </tbody>\n        </table>\n        <div class=\"d-flex justify-end py-6\">\n          <v-btn :loading=\"$store.state.loading\" @click=\"placeOrder()\" height=\"40\" width=\"100\" depressed color=\"primary\" class=\"text-capitalize fsize14 mx-4\">Place</v-btn>\n          <v-btn @click.once=\"windowClose()\" height=\"40\" width=\"100\" depressed outlined class=\"text-capitalize fsize14 \">Cancel</v-btn>\n        </div>\n        </div>\n      </div>\n    </v-container>\n    <orderWindow v-if=\"showOrderWindow\" />\n  </div>\n</template>\n\n<script>\n\nimport { mapGetters } from \"vuex\";\nimport orderWindow from \"../mixins/orderWindow\";\nexport default {\n  mixins: [orderWindow],\n  name: \"Basket\",\n  data() {\n    return {\n      isDropped: false,\n      currentIndex: -1,\n    };\n  },\n  components: {\n    customIcon: () => import(\"../components/customIcon.vue\"),\n    orderWindow:() => import(\"../components/orderWindow.vue\"),\n  },\n  computed: {\n    ...mapGetters(\"authtication\", [\n      \"getUserId\",\n      \"getUserSession\",\n      \"getUserSessionDto\",\n    ]),\n    ...mapGetters(\"basket\", [\"getBasketItems\", \"getVendorDetails\",\"getAppName\"]),\n  },\n  methods: {\n    getBasket() {\n      var basketSession = localStorage.getItem(\"basketSessionId\");\n      var basketAppCode = localStorage.getItem(\"basketAppCode\");\n      if (basketSession && basketAppCode) {\n        this.$store.dispatch(\"basket/getBasket\", {\n          sessionId: basketSession,\n          apiKey: basketAppCode,\n        });\n      }\n    },\n    deleteCurrentOrder(index, type) {\n      this.$store.commit(\"basket/SET_BASKET_ITEMS\", {\n        index: index,\n        type: type,\n      });\n    },\n    async callOrderWindow(orderType, value) {\n      this.$store.dispatch(\"orderWindow/setInitialValues\", {\n        data: value,\n        page: \"basket\",\n      });\n      this.$store.commit(\"orderWindow/setWindowLoading\", true);\n      this.$store.commit(\"orderWindow/setCurrentOrder\", {\n        data: value,\n        page: \"basket\",\n      });\n      await this.$store.commit(\"orderWindow/setOrderWindow\", true);\n      await this.$store.commit(\"orderWindow/setRemoveCss\", true);\n      await this.$store.commit(\"orderWindow/setOrderType\", orderType);\n      await this.$store.dispatch(\"orderWindow/getNewPriceRange\");\n      await this.$store.dispatch(\"orderWindow/getScripQuoteDetails\", \"\");\n      await this.changeOrderTab();\n    },\n    windowClose() {\n      window.close();\n    },\n    placeOrder() {\n      this.$store.dispatch(\"orderWindow/placeBasketOrder\", {\n        data: this.getBasketItems,\n        page: \"basket\",\n      });\n    },\n  },\n  created() {\n    this.getBasket();\n  },\n};\n</script>\n\n<style>\n.basket-card {\n  border-radius: 5px;\n  background-color: #fff;\n  margin: 60px auto;\n  -webkit-box-shadow: 0 0 20px #eee;\n  box-shadow: 0 0 20px #eee;\n}\n.normal-table {\n  width: 100%;\n  overflow: auto;\n}\n.normal-table th,\ntd {\n  padding: 10px;\n  border-bottom: 1px solid #eee;\n}\n</style>"]}]}